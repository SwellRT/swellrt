/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */
// Generated by the protocol buffer compiler.  DO NOT EDIT!
// source: org/waveprotocol/wave/federation/federation.protodevel

package org.waveprotocol.wave.federation;

public final class Proto {
  private Proto() {}
  public static void registerAllExtensions(
      com.google.protobuf.ExtensionRegistry registry) {
  }
  public static final class ProtocolWaveletDelta extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolWaveletDelta.newBuilder() to construct.
    private ProtocolWaveletDelta() {
      initFields();
    }
    private ProtocolWaveletDelta(boolean noInit) {}
    
    private static final ProtocolWaveletDelta defaultInstance;
    public static ProtocolWaveletDelta getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolWaveletDelta getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolWaveletDelta_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolWaveletDelta_fieldAccessorTable;
    }
    
    // required .federation.ProtocolHashedVersion hashed_version = 1;
    public static final int HASHED_VERSION_FIELD_NUMBER = 1;
    private boolean hasHashedVersion;
    private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion hashedVersion_;
    public boolean hasHashedVersion() { return hasHashedVersion; }
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersion() { return hashedVersion_; }
    
    // required string author = 2;
    public static final int AUTHOR_FIELD_NUMBER = 2;
    private boolean hasAuthor;
    private java.lang.String author_ = "";
    public boolean hasAuthor() { return hasAuthor; }
    public java.lang.String getAuthor() { return author_; }
    
    // repeated .federation.ProtocolWaveletOperation operation = 3;
    public static final int OPERATION_FIELD_NUMBER = 3;
    private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation> operation_ =
      java.util.Collections.emptyList();
    public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation> getOperationList() {
      return operation_;
    }
    public int getOperationCount() { return operation_.size(); }
    public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation getOperation(int index) {
      return operation_.get(index);
    }
    
    // repeated string address_path = 4;
    public static final int ADDRESS_PATH_FIELD_NUMBER = 4;
    private java.util.List<java.lang.String> addressPath_ =
      java.util.Collections.emptyList();
    public java.util.List<java.lang.String> getAddressPathList() {
      return addressPath_;
    }
    public int getAddressPathCount() { return addressPath_.size(); }
    public java.lang.String getAddressPath(int index) {
      return addressPath_.get(index);
    }
    
    private void initFields() {
      hashedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
    }
    public final boolean isInitialized() {
      if (!hasHashedVersion) return false;
      if (!hasAuthor) return false;
      if (!getHashedVersion().isInitialized()) return false;
      for (org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation element : getOperationList()) {
        if (!element.isInitialized()) return false;
      }
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasHashedVersion()) {
        output.writeMessage(1, getHashedVersion());
      }
      if (hasAuthor()) {
        output.writeString(2, getAuthor());
      }
      for (org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation element : getOperationList()) {
        output.writeMessage(3, element);
      }
      for (java.lang.String element : getAddressPathList()) {
        output.writeString(4, element);
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasHashedVersion()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, getHashedVersion());
      }
      if (hasAuthor()) {
        size += com.google.protobuf.CodedOutputStream
          .computeStringSize(2, getAuthor());
      }
      for (org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation element : getOperationList()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, element);
      }
      {
        int dataSize = 0;
        for (java.lang.String element : getAddressPathList()) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeStringSizeNoTag(element);
        }
        size += dataSize;
        size += 1 * getAddressPathList().size();
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        if (result.operation_ != java.util.Collections.EMPTY_LIST) {
          result.operation_ =
            java.util.Collections.unmodifiableList(result.operation_);
        }
        if (result.addressPath_ != java.util.Collections.EMPTY_LIST) {
          result.addressPath_ =
            java.util.Collections.unmodifiableList(result.addressPath_);
        }
        org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.getDefaultInstance()) return this;
        if (other.hasHashedVersion()) {
          mergeHashedVersion(other.getHashedVersion());
        }
        if (other.hasAuthor()) {
          setAuthor(other.getAuthor());
        }
        if (!other.operation_.isEmpty()) {
          if (result.operation_.isEmpty()) {
            result.operation_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation>();
          }
          result.operation_.addAll(other.operation_);
        }
        if (!other.addressPath_.isEmpty()) {
          if (result.addressPath_.isEmpty()) {
            result.addressPath_ = new java.util.ArrayList<java.lang.String>();
          }
          result.addressPath_.addAll(other.addressPath_);
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder();
              if (hasHashedVersion()) {
                subBuilder.mergeFrom(getHashedVersion());
              }
              input.readMessage(subBuilder, extensionRegistry);
              setHashedVersion(subBuilder.buildPartial());
              break;
            }
            case 18: {
              setAuthor(input.readString());
              break;
            }
            case 26: {
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.newBuilder();
              input.readMessage(subBuilder, extensionRegistry);
              addOperation(subBuilder.buildPartial());
              break;
            }
            case 34: {
              addAddressPath(input.readString());
              break;
            }
          }
        }
      }
      
      
      // required .federation.ProtocolHashedVersion hashed_version = 1;
      public boolean hasHashedVersion() {
        return result.hasHashedVersion();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersion() {
        return result.getHashedVersion();
      }
      public Builder setHashedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.hasHashedVersion = true;
        result.hashedVersion_ = value;
        return this;
      }
      public Builder setHashedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        result.hasHashedVersion = true;
        result.hashedVersion_ = builderForValue.build();
        return this;
      }
      public Builder mergeHashedVersion(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (result.hasHashedVersion() &&
            result.hashedVersion_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
          result.hashedVersion_ =
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(result.hashedVersion_).mergeFrom(value).buildPartial();
        } else {
          result.hashedVersion_ = value;
        }
        result.hasHashedVersion = true;
        return this;
      }
      public Builder clearHashedVersion() {
        result.hasHashedVersion = false;
        result.hashedVersion_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        return this;
      }
      
      // required string author = 2;
      public boolean hasAuthor() {
        return result.hasAuthor();
      }
      public java.lang.String getAuthor() {
        return result.getAuthor();
      }
      public Builder setAuthor(java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasAuthor = true;
        result.author_ = value;
        return this;
      }
      public Builder clearAuthor() {
        result.hasAuthor = false;
        result.author_ = getDefaultInstance().getAuthor();
        return this;
      }
      
      // repeated .federation.ProtocolWaveletOperation operation = 3;
      public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation> getOperationList() {
        return java.util.Collections.unmodifiableList(result.operation_);
      }
      public int getOperationCount() {
        return result.getOperationCount();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation getOperation(int index) {
        return result.getOperation(index);
      }
      public Builder setOperation(int index, org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.operation_.set(index, value);
        return this;
      }
      public Builder setOperation(int index, org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.Builder builderForValue) {
        result.operation_.set(index, builderForValue.build());
        return this;
      }
      public Builder addOperation(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation value) {
        if (value == null) {
          throw new NullPointerException();
        }
        if (result.operation_.isEmpty()) {
          result.operation_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation>();
        }
        result.operation_.add(value);
        return this;
      }
      public Builder addOperation(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.Builder builderForValue) {
        if (result.operation_.isEmpty()) {
          result.operation_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation>();
        }
        result.operation_.add(builderForValue.build());
        return this;
      }
      public Builder addAllOperation(
          java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation> values) {
        if (result.operation_.isEmpty()) {
          result.operation_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation>();
        }
        super.addAll(values, result.operation_);
        return this;
      }
      public Builder clearOperation() {
        result.operation_ = java.util.Collections.emptyList();
        return this;
      }
      
      // repeated string address_path = 4;
      public java.util.List<java.lang.String> getAddressPathList() {
        return java.util.Collections.unmodifiableList(result.addressPath_);
      }
      public int getAddressPathCount() {
        return result.getAddressPathCount();
      }
      public java.lang.String getAddressPath(int index) {
        return result.getAddressPath(index);
      }
      public Builder setAddressPath(int index, java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.addressPath_.set(index, value);
        return this;
      }
      public Builder addAddressPath(java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  if (result.addressPath_.isEmpty()) {
          result.addressPath_ = new java.util.ArrayList<java.lang.String>();
        }
        result.addressPath_.add(value);
        return this;
      }
      public Builder addAllAddressPath(
          java.lang.Iterable<? extends java.lang.String> values) {
        if (result.addressPath_.isEmpty()) {
          result.addressPath_ = new java.util.ArrayList<java.lang.String>();
        }
        super.addAll(values, result.addressPath_);
        return this;
      }
      public Builder clearAddressPath() {
        result.addressPath_ = java.util.Collections.emptyList();
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolWaveletDelta)
    }
    
    static {
      defaultInstance = new ProtocolWaveletDelta(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolWaveletDelta)
  }
  
  public static final class ProtocolHashedVersion extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolHashedVersion.newBuilder() to construct.
    private ProtocolHashedVersion() {
      initFields();
    }
    private ProtocolHashedVersion(boolean noInit) {}
    
    private static final ProtocolHashedVersion defaultInstance;
    public static ProtocolHashedVersion getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolHashedVersion getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolHashedVersion_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolHashedVersion_fieldAccessorTable;
    }
    
    // required int64 version = 1;
    public static final int VERSION_FIELD_NUMBER = 1;
    private boolean hasVersion;
    private long version_ = 0L;
    public boolean hasVersion() { return hasVersion; }
    public long getVersion() { return version_; }
    
    // required bytes history_hash = 2;
    public static final int HISTORY_HASH_FIELD_NUMBER = 2;
    private boolean hasHistoryHash;
    private com.google.protobuf.ByteString historyHash_ = com.google.protobuf.ByteString.EMPTY;
    public boolean hasHistoryHash() { return hasHistoryHash; }
    public com.google.protobuf.ByteString getHistoryHash() { return historyHash_; }
    
    private void initFields() {
    }
    public final boolean isInitialized() {
      if (!hasVersion) return false;
      if (!hasHistoryHash) return false;
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasVersion()) {
        output.writeInt64(1, getVersion());
      }
      if (hasHistoryHash()) {
        output.writeBytes(2, getHistoryHash());
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasVersion()) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(1, getVersion());
      }
      if (hasHistoryHash()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, getHistoryHash());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) return this;
        if (other.hasVersion()) {
          setVersion(other.getVersion());
        }
        if (other.hasHistoryHash()) {
          setHistoryHash(other.getHistoryHash());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 8: {
              setVersion(input.readInt64());
              break;
            }
            case 18: {
              setHistoryHash(input.readBytes());
              break;
            }
          }
        }
      }
      
      
      // required int64 version = 1;
      public boolean hasVersion() {
        return result.hasVersion();
      }
      public long getVersion() {
        return result.getVersion();
      }
      public Builder setVersion(long value) {
        result.hasVersion = true;
        result.version_ = value;
        return this;
      }
      public Builder clearVersion() {
        result.hasVersion = false;
        result.version_ = 0L;
        return this;
      }
      
      // required bytes history_hash = 2;
      public boolean hasHistoryHash() {
        return result.hasHistoryHash();
      }
      public com.google.protobuf.ByteString getHistoryHash() {
        return result.getHistoryHash();
      }
      public Builder setHistoryHash(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasHistoryHash = true;
        result.historyHash_ = value;
        return this;
      }
      public Builder clearHistoryHash() {
        result.hasHistoryHash = false;
        result.historyHash_ = getDefaultInstance().getHistoryHash();
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolHashedVersion)
    }
    
    static {
      defaultInstance = new ProtocolHashedVersion(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolHashedVersion)
  }
  
  public static final class ProtocolWaveletOperation extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolWaveletOperation.newBuilder() to construct.
    private ProtocolWaveletOperation() {
      initFields();
    }
    private ProtocolWaveletOperation(boolean noInit) {}
    
    private static final ProtocolWaveletOperation defaultInstance;
    public static ProtocolWaveletOperation getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolWaveletOperation getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolWaveletOperation_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolWaveletOperation_fieldAccessorTable;
    }
    
    public static final class MutateDocument extends
        com.google.protobuf.GeneratedMessage {
      // Use MutateDocument.newBuilder() to construct.
      private MutateDocument() {
        initFields();
      }
      private MutateDocument(boolean noInit) {}
      
      private static final MutateDocument defaultInstance;
      public static MutateDocument getDefaultInstance() {
        return defaultInstance;
      }
      
      public MutateDocument getDefaultInstanceForType() {
        return defaultInstance;
      }
      
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolWaveletOperation_MutateDocument_descriptor;
      }
      
      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolWaveletOperation_MutateDocument_fieldAccessorTable;
      }
      
      // required string document_id = 1;
      public static final int DOCUMENT_ID_FIELD_NUMBER = 1;
      private boolean hasDocumentId;
      private java.lang.String documentId_ = "";
      public boolean hasDocumentId() { return hasDocumentId; }
      public java.lang.String getDocumentId() { return documentId_; }
      
      // required .federation.ProtocolDocumentOperation document_operation = 2;
      public static final int DOCUMENT_OPERATION_FIELD_NUMBER = 2;
      private boolean hasDocumentOperation;
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation documentOperation_;
      public boolean hasDocumentOperation() { return hasDocumentOperation; }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation getDocumentOperation() { return documentOperation_; }
      
      private void initFields() {
        documentOperation_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.getDefaultInstance();
      }
      public final boolean isInitialized() {
        if (!hasDocumentId) return false;
        if (!hasDocumentOperation) return false;
        if (!getDocumentOperation().isInitialized()) return false;
        return true;
      }
      
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (hasDocumentId()) {
          output.writeString(1, getDocumentId());
        }
        if (hasDocumentOperation()) {
          output.writeMessage(2, getDocumentOperation());
        }
        getUnknownFields().writeTo(output);
      }
      
      private int memoizedSerializedSize = -1;
      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;
      
        size = 0;
        if (hasDocumentId()) {
          size += com.google.protobuf.CodedOutputStream
            .computeStringSize(1, getDocumentId());
        }
        if (hasDocumentOperation()) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(2, getDocumentOperation());
        }
        size += getUnknownFields().getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }
      
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data, extensionRegistry)
                 .buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data, extensionRegistry)
                 .buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input, extensionRegistry)
                 .buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        Builder builder = newBuilder();
        if (builder.mergeDelimitedFrom(input)) {
          return builder.buildParsed();
        } else {
          return null;
        }
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        Builder builder = newBuilder();
        if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
          return builder.buildParsed();
        } else {
          return null;
        }
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input, extensionRegistry)
                 .buildParsed();
      }
      
      public static Builder newBuilder() { return Builder.create(); }
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument prototype) {
        return newBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() { return newBuilder(this); }
      
      public static final class Builder extends
          com.google.protobuf.GeneratedMessage.Builder<Builder> {
        private org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument result;
        
        // Construct using org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.newBuilder()
        private Builder() {}
        
        private static Builder create() {
          Builder builder = new Builder();
          builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument();
          return builder;
        }
        
        protected org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument internalGetResult() {
          return result;
        }
        
        public Builder clear() {
          if (result == null) {
            throw new IllegalStateException(
              "Cannot call clear() after build().");
          }
          result = new org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument();
          return this;
        }
        
        public Builder clone() {
          return create().mergeFrom(result);
        }
        
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.getDescriptor();
        }
        
        public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument getDefaultInstanceForType() {
          return org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.getDefaultInstance();
        }
        
        public boolean isInitialized() {
          return result.isInitialized();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument build() {
          if (result != null && !isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return buildPartial();
        }
        
        private org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument buildParsed()
            throws com.google.protobuf.InvalidProtocolBufferException {
          if (!isInitialized()) {
            throw newUninitializedMessageException(
              result).asInvalidProtocolBufferException();
          }
          return buildPartial();
        }
        
        public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument buildPartial() {
          if (result == null) {
            throw new IllegalStateException(
              "build() has already been called on this Builder.");
          }
          org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument returnMe = result;
          result = null;
          return returnMe;
        }
        
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument) {
            return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }
        
        public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument other) {
          if (other == org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.getDefaultInstance()) return this;
          if (other.hasDocumentId()) {
            setDocumentId(other.getDocumentId());
          }
          if (other.hasDocumentOperation()) {
            mergeDocumentOperation(other.getDocumentOperation());
          }
          this.mergeUnknownFields(other.getUnknownFields());
          return this;
        }
        
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder(
              this.getUnknownFields());
          while (true) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                this.setUnknownFields(unknownFields.build());
                return this;
              default: {
                if (!parseUnknownField(input, unknownFields,
                                       extensionRegistry, tag)) {
                  this.setUnknownFields(unknownFields.build());
                  return this;
                }
                break;
              }
              case 10: {
                setDocumentId(input.readString());
                break;
              }
              case 18: {
                org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.newBuilder();
                if (hasDocumentOperation()) {
                  subBuilder.mergeFrom(getDocumentOperation());
                }
                input.readMessage(subBuilder, extensionRegistry);
                setDocumentOperation(subBuilder.buildPartial());
                break;
              }
            }
          }
        }
        
        
        // required string document_id = 1;
        public boolean hasDocumentId() {
          return result.hasDocumentId();
        }
        public java.lang.String getDocumentId() {
          return result.getDocumentId();
        }
        public Builder setDocumentId(java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  result.hasDocumentId = true;
          result.documentId_ = value;
          return this;
        }
        public Builder clearDocumentId() {
          result.hasDocumentId = false;
          result.documentId_ = getDefaultInstance().getDocumentId();
          return this;
        }
        
        // required .federation.ProtocolDocumentOperation document_operation = 2;
        public boolean hasDocumentOperation() {
          return result.hasDocumentOperation();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation getDocumentOperation() {
          return result.getDocumentOperation();
        }
        public Builder setDocumentOperation(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation value) {
          if (value == null) {
            throw new NullPointerException();
          }
          result.hasDocumentOperation = true;
          result.documentOperation_ = value;
          return this;
        }
        public Builder setDocumentOperation(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Builder builderForValue) {
          result.hasDocumentOperation = true;
          result.documentOperation_ = builderForValue.build();
          return this;
        }
        public Builder mergeDocumentOperation(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation value) {
          if (result.hasDocumentOperation() &&
              result.documentOperation_ != org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.getDefaultInstance()) {
            result.documentOperation_ =
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.newBuilder(result.documentOperation_).mergeFrom(value).buildPartial();
          } else {
            result.documentOperation_ = value;
          }
          result.hasDocumentOperation = true;
          return this;
        }
        public Builder clearDocumentOperation() {
          result.hasDocumentOperation = false;
          result.documentOperation_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.getDefaultInstance();
          return this;
        }
        
        // @@protoc_insertion_point(builder_scope:federation.ProtocolWaveletOperation.MutateDocument)
      }
      
      static {
        defaultInstance = new MutateDocument(true);
        org.waveprotocol.wave.federation.Proto.internalForceInit();
        defaultInstance.initFields();
      }
      
      // @@protoc_insertion_point(class_scope:federation.ProtocolWaveletOperation.MutateDocument)
    }
    
    // optional string add_participant = 1;
    public static final int ADD_PARTICIPANT_FIELD_NUMBER = 1;
    private boolean hasAddParticipant;
    private java.lang.String addParticipant_ = "";
    public boolean hasAddParticipant() { return hasAddParticipant; }
    public java.lang.String getAddParticipant() { return addParticipant_; }
    
    // optional string remove_participant = 2;
    public static final int REMOVE_PARTICIPANT_FIELD_NUMBER = 2;
    private boolean hasRemoveParticipant;
    private java.lang.String removeParticipant_ = "";
    public boolean hasRemoveParticipant() { return hasRemoveParticipant; }
    public java.lang.String getRemoveParticipant() { return removeParticipant_; }
    
    // optional .federation.ProtocolWaveletOperation.MutateDocument mutate_document = 3;
    public static final int MUTATE_DOCUMENT_FIELD_NUMBER = 3;
    private boolean hasMutateDocument;
    private org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument mutateDocument_;
    public boolean hasMutateDocument() { return hasMutateDocument; }
    public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument getMutateDocument() { return mutateDocument_; }
    
    // optional bool no_op = 4;
    public static final int NO_OP_FIELD_NUMBER = 4;
    private boolean hasNoOp;
    private boolean noOp_ = false;
    public boolean hasNoOp() { return hasNoOp; }
    public boolean getNoOp() { return noOp_; }
    
    private void initFields() {
      mutateDocument_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.getDefaultInstance();
    }
    public final boolean isInitialized() {
      if (hasMutateDocument()) {
        if (!getMutateDocument().isInitialized()) return false;
      }
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasAddParticipant()) {
        output.writeString(1, getAddParticipant());
      }
      if (hasRemoveParticipant()) {
        output.writeString(2, getRemoveParticipant());
      }
      if (hasMutateDocument()) {
        output.writeMessage(3, getMutateDocument());
      }
      if (hasNoOp()) {
        output.writeBool(4, getNoOp());
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasAddParticipant()) {
        size += com.google.protobuf.CodedOutputStream
          .computeStringSize(1, getAddParticipant());
      }
      if (hasRemoveParticipant()) {
        size += com.google.protobuf.CodedOutputStream
          .computeStringSize(2, getRemoveParticipant());
      }
      if (hasMutateDocument()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(3, getMutateDocument());
      }
      if (hasNoOp()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBoolSize(4, getNoOp());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.getDefaultInstance()) return this;
        if (other.hasAddParticipant()) {
          setAddParticipant(other.getAddParticipant());
        }
        if (other.hasRemoveParticipant()) {
          setRemoveParticipant(other.getRemoveParticipant());
        }
        if (other.hasMutateDocument()) {
          mergeMutateDocument(other.getMutateDocument());
        }
        if (other.hasNoOp()) {
          setNoOp(other.getNoOp());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 10: {
              setAddParticipant(input.readString());
              break;
            }
            case 18: {
              setRemoveParticipant(input.readString());
              break;
            }
            case 26: {
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.newBuilder();
              if (hasMutateDocument()) {
                subBuilder.mergeFrom(getMutateDocument());
              }
              input.readMessage(subBuilder, extensionRegistry);
              setMutateDocument(subBuilder.buildPartial());
              break;
            }
            case 32: {
              setNoOp(input.readBool());
              break;
            }
          }
        }
      }
      
      
      // optional string add_participant = 1;
      public boolean hasAddParticipant() {
        return result.hasAddParticipant();
      }
      public java.lang.String getAddParticipant() {
        return result.getAddParticipant();
      }
      public Builder setAddParticipant(java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasAddParticipant = true;
        result.addParticipant_ = value;
        return this;
      }
      public Builder clearAddParticipant() {
        result.hasAddParticipant = false;
        result.addParticipant_ = getDefaultInstance().getAddParticipant();
        return this;
      }
      
      // optional string remove_participant = 2;
      public boolean hasRemoveParticipant() {
        return result.hasRemoveParticipant();
      }
      public java.lang.String getRemoveParticipant() {
        return result.getRemoveParticipant();
      }
      public Builder setRemoveParticipant(java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasRemoveParticipant = true;
        result.removeParticipant_ = value;
        return this;
      }
      public Builder clearRemoveParticipant() {
        result.hasRemoveParticipant = false;
        result.removeParticipant_ = getDefaultInstance().getRemoveParticipant();
        return this;
      }
      
      // optional .federation.ProtocolWaveletOperation.MutateDocument mutate_document = 3;
      public boolean hasMutateDocument() {
        return result.hasMutateDocument();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument getMutateDocument() {
        return result.getMutateDocument();
      }
      public Builder setMutateDocument(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.hasMutateDocument = true;
        result.mutateDocument_ = value;
        return this;
      }
      public Builder setMutateDocument(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.Builder builderForValue) {
        result.hasMutateDocument = true;
        result.mutateDocument_ = builderForValue.build();
        return this;
      }
      public Builder mergeMutateDocument(org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument value) {
        if (result.hasMutateDocument() &&
            result.mutateDocument_ != org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.getDefaultInstance()) {
          result.mutateDocument_ =
            org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.newBuilder(result.mutateDocument_).mergeFrom(value).buildPartial();
        } else {
          result.mutateDocument_ = value;
        }
        result.hasMutateDocument = true;
        return this;
      }
      public Builder clearMutateDocument() {
        result.hasMutateDocument = false;
        result.mutateDocument_ = org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.getDefaultInstance();
        return this;
      }
      
      // optional bool no_op = 4;
      public boolean hasNoOp() {
        return result.hasNoOp();
      }
      public boolean getNoOp() {
        return result.getNoOp();
      }
      public Builder setNoOp(boolean value) {
        result.hasNoOp = true;
        result.noOp_ = value;
        return this;
      }
      public Builder clearNoOp() {
        result.hasNoOp = false;
        result.noOp_ = false;
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolWaveletOperation)
    }
    
    static {
      defaultInstance = new ProtocolWaveletOperation(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolWaveletOperation)
  }
  
  public static final class ProtocolDocumentOperation extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolDocumentOperation.newBuilder() to construct.
    private ProtocolDocumentOperation() {
      initFields();
    }
    private ProtocolDocumentOperation(boolean noInit) {}
    
    private static final ProtocolDocumentOperation defaultInstance;
    public static ProtocolDocumentOperation getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolDocumentOperation getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_fieldAccessorTable;
    }
    
    public static final class Component extends
        com.google.protobuf.GeneratedMessage {
      // Use Component.newBuilder() to construct.
      private Component() {
        initFields();
      }
      private Component(boolean noInit) {}
      
      private static final Component defaultInstance;
      public static Component getDefaultInstance() {
        return defaultInstance;
      }
      
      public Component getDefaultInstanceForType() {
        return defaultInstance;
      }
      
      public static final com.google.protobuf.Descriptors.Descriptor
          getDescriptor() {
        return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_descriptor;
      }
      
      protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
          internalGetFieldAccessorTable() {
        return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_fieldAccessorTable;
      }
      
      public static final class KeyValuePair extends
          com.google.protobuf.GeneratedMessage {
        // Use KeyValuePair.newBuilder() to construct.
        private KeyValuePair() {
          initFields();
        }
        private KeyValuePair(boolean noInit) {}
        
        private static final KeyValuePair defaultInstance;
        public static KeyValuePair getDefaultInstance() {
          return defaultInstance;
        }
        
        public KeyValuePair getDefaultInstanceForType() {
          return defaultInstance;
        }
        
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_descriptor;
        }
        
        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_fieldAccessorTable;
        }
        
        // required string key = 1;
        public static final int KEY_FIELD_NUMBER = 1;
        private boolean hasKey;
        private java.lang.String key_ = "";
        public boolean hasKey() { return hasKey; }
        public java.lang.String getKey() { return key_; }
        
        // required string value = 2;
        public static final int VALUE_FIELD_NUMBER = 2;
        private boolean hasValue;
        private java.lang.String value_ = "";
        public boolean hasValue() { return hasValue; }
        public java.lang.String getValue() { return value_; }
        
        private void initFields() {
        }
        public final boolean isInitialized() {
          if (!hasKey) return false;
          if (!hasValue) return false;
          return true;
        }
        
        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          getSerializedSize();
          if (hasKey()) {
            output.writeString(1, getKey());
          }
          if (hasValue()) {
            output.writeString(2, getValue());
          }
          getUnknownFields().writeTo(output);
        }
        
        private int memoizedSerializedSize = -1;
        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;
        
          size = 0;
          if (hasKey()) {
            size += com.google.protobuf.CodedOutputStream
              .computeStringSize(1, getKey());
          }
          if (hasValue()) {
            size += com.google.protobuf.CodedOutputStream
              .computeStringSize(2, getValue());
          }
          size += getUnknownFields().getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }
        
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        
        public static Builder newBuilder() { return Builder.create(); }
        public Builder newBuilderForType() { return newBuilder(); }
        public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair prototype) {
          return newBuilder().mergeFrom(prototype);
        }
        public Builder toBuilder() { return newBuilder(this); }
        
        public static final class Builder extends
            com.google.protobuf.GeneratedMessage.Builder<Builder> {
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair result;
          
          // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.newBuilder()
          private Builder() {}
          
          private static Builder create() {
            Builder builder = new Builder();
            builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair();
            return builder;
          }
          
          protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair internalGetResult() {
            return result;
          }
          
          public Builder clear() {
            if (result == null) {
              throw new IllegalStateException(
                "Cannot call clear() after build().");
            }
            result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair();
            return this;
          }
          
          public Builder clone() {
            return create().mergeFrom(result);
          }
          
          public com.google.protobuf.Descriptors.Descriptor
              getDescriptorForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.getDescriptor();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getDefaultInstanceForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.getDefaultInstance();
          }
          
          public boolean isInitialized() {
            return result.isInitialized();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair build() {
            if (result != null && !isInitialized()) {
              throw newUninitializedMessageException(result);
            }
            return buildPartial();
          }
          
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair buildParsed()
              throws com.google.protobuf.InvalidProtocolBufferException {
            if (!isInitialized()) {
              throw newUninitializedMessageException(
                result).asInvalidProtocolBufferException();
            }
            return buildPartial();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair buildPartial() {
            if (result == null) {
              throw new IllegalStateException(
                "build() has already been called on this Builder.");
            }
            org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair returnMe = result;
            result = null;
            return returnMe;
          }
          
          public Builder mergeFrom(com.google.protobuf.Message other) {
            if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair) {
              return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair)other);
            } else {
              super.mergeFrom(other);
              return this;
            }
          }
          
          public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair other) {
            if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.getDefaultInstance()) return this;
            if (other.hasKey()) {
              setKey(other.getKey());
            }
            if (other.hasValue()) {
              setValue(other.getValue());
            }
            this.mergeUnknownFields(other.getUnknownFields());
            return this;
          }
          
          public Builder mergeFrom(
              com.google.protobuf.CodedInputStream input,
              com.google.protobuf.ExtensionRegistryLite extensionRegistry)
              throws java.io.IOException {
            com.google.protobuf.UnknownFieldSet.Builder unknownFields =
              com.google.protobuf.UnknownFieldSet.newBuilder(
                this.getUnknownFields());
            while (true) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  this.setUnknownFields(unknownFields.build());
                  return this;
                default: {
                  if (!parseUnknownField(input, unknownFields,
                                         extensionRegistry, tag)) {
                    this.setUnknownFields(unknownFields.build());
                    return this;
                  }
                  break;
                }
                case 10: {
                  setKey(input.readString());
                  break;
                }
                case 18: {
                  setValue(input.readString());
                  break;
                }
              }
            }
          }
          
          
          // required string key = 1;
          public boolean hasKey() {
            return result.hasKey();
          }
          public java.lang.String getKey() {
            return result.getKey();
          }
          public Builder setKey(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.hasKey = true;
            result.key_ = value;
            return this;
          }
          public Builder clearKey() {
            result.hasKey = false;
            result.key_ = getDefaultInstance().getKey();
            return this;
          }
          
          // required string value = 2;
          public boolean hasValue() {
            return result.hasValue();
          }
          public java.lang.String getValue() {
            return result.getValue();
          }
          public Builder setValue(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.hasValue = true;
            result.value_ = value;
            return this;
          }
          public Builder clearValue() {
            result.hasValue = false;
            result.value_ = getDefaultInstance().getValue();
            return this;
          }
          
          // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component.KeyValuePair)
        }
        
        static {
          defaultInstance = new KeyValuePair(true);
          org.waveprotocol.wave.federation.Proto.internalForceInit();
          defaultInstance.initFields();
        }
        
        // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component.KeyValuePair)
      }
      
      public static final class KeyValueUpdate extends
          com.google.protobuf.GeneratedMessage {
        // Use KeyValueUpdate.newBuilder() to construct.
        private KeyValueUpdate() {
          initFields();
        }
        private KeyValueUpdate(boolean noInit) {}
        
        private static final KeyValueUpdate defaultInstance;
        public static KeyValueUpdate getDefaultInstance() {
          return defaultInstance;
        }
        
        public KeyValueUpdate getDefaultInstanceForType() {
          return defaultInstance;
        }
        
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_descriptor;
        }
        
        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_fieldAccessorTable;
        }
        
        // required string key = 1;
        public static final int KEY_FIELD_NUMBER = 1;
        private boolean hasKey;
        private java.lang.String key_ = "";
        public boolean hasKey() { return hasKey; }
        public java.lang.String getKey() { return key_; }
        
        // optional string old_value = 2;
        public static final int OLD_VALUE_FIELD_NUMBER = 2;
        private boolean hasOldValue;
        private java.lang.String oldValue_ = "";
        public boolean hasOldValue() { return hasOldValue; }
        public java.lang.String getOldValue() { return oldValue_; }
        
        // optional string new_value = 3;
        public static final int NEW_VALUE_FIELD_NUMBER = 3;
        private boolean hasNewValue;
        private java.lang.String newValue_ = "";
        public boolean hasNewValue() { return hasNewValue; }
        public java.lang.String getNewValue() { return newValue_; }
        
        private void initFields() {
        }
        public final boolean isInitialized() {
          if (!hasKey) return false;
          return true;
        }
        
        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          getSerializedSize();
          if (hasKey()) {
            output.writeString(1, getKey());
          }
          if (hasOldValue()) {
            output.writeString(2, getOldValue());
          }
          if (hasNewValue()) {
            output.writeString(3, getNewValue());
          }
          getUnknownFields().writeTo(output);
        }
        
        private int memoizedSerializedSize = -1;
        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;
        
          size = 0;
          if (hasKey()) {
            size += com.google.protobuf.CodedOutputStream
              .computeStringSize(1, getKey());
          }
          if (hasOldValue()) {
            size += com.google.protobuf.CodedOutputStream
              .computeStringSize(2, getOldValue());
          }
          if (hasNewValue()) {
            size += com.google.protobuf.CodedOutputStream
              .computeStringSize(3, getNewValue());
          }
          size += getUnknownFields().getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }
        
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        
        public static Builder newBuilder() { return Builder.create(); }
        public Builder newBuilderForType() { return newBuilder(); }
        public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate prototype) {
          return newBuilder().mergeFrom(prototype);
        }
        public Builder toBuilder() { return newBuilder(this); }
        
        public static final class Builder extends
            com.google.protobuf.GeneratedMessage.Builder<Builder> {
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate result;
          
          // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.newBuilder()
          private Builder() {}
          
          private static Builder create() {
            Builder builder = new Builder();
            builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate();
            return builder;
          }
          
          protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate internalGetResult() {
            return result;
          }
          
          public Builder clear() {
            if (result == null) {
              throw new IllegalStateException(
                "Cannot call clear() after build().");
            }
            result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate();
            return this;
          }
          
          public Builder clone() {
            return create().mergeFrom(result);
          }
          
          public com.google.protobuf.Descriptors.Descriptor
              getDescriptorForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.getDescriptor();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate getDefaultInstanceForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.getDefaultInstance();
          }
          
          public boolean isInitialized() {
            return result.isInitialized();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate build() {
            if (result != null && !isInitialized()) {
              throw newUninitializedMessageException(result);
            }
            return buildPartial();
          }
          
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate buildParsed()
              throws com.google.protobuf.InvalidProtocolBufferException {
            if (!isInitialized()) {
              throw newUninitializedMessageException(
                result).asInvalidProtocolBufferException();
            }
            return buildPartial();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate buildPartial() {
            if (result == null) {
              throw new IllegalStateException(
                "build() has already been called on this Builder.");
            }
            org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate returnMe = result;
            result = null;
            return returnMe;
          }
          
          public Builder mergeFrom(com.google.protobuf.Message other) {
            if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate) {
              return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate)other);
            } else {
              super.mergeFrom(other);
              return this;
            }
          }
          
          public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate other) {
            if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.getDefaultInstance()) return this;
            if (other.hasKey()) {
              setKey(other.getKey());
            }
            if (other.hasOldValue()) {
              setOldValue(other.getOldValue());
            }
            if (other.hasNewValue()) {
              setNewValue(other.getNewValue());
            }
            this.mergeUnknownFields(other.getUnknownFields());
            return this;
          }
          
          public Builder mergeFrom(
              com.google.protobuf.CodedInputStream input,
              com.google.protobuf.ExtensionRegistryLite extensionRegistry)
              throws java.io.IOException {
            com.google.protobuf.UnknownFieldSet.Builder unknownFields =
              com.google.protobuf.UnknownFieldSet.newBuilder(
                this.getUnknownFields());
            while (true) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  this.setUnknownFields(unknownFields.build());
                  return this;
                default: {
                  if (!parseUnknownField(input, unknownFields,
                                         extensionRegistry, tag)) {
                    this.setUnknownFields(unknownFields.build());
                    return this;
                  }
                  break;
                }
                case 10: {
                  setKey(input.readString());
                  break;
                }
                case 18: {
                  setOldValue(input.readString());
                  break;
                }
                case 26: {
                  setNewValue(input.readString());
                  break;
                }
              }
            }
          }
          
          
          // required string key = 1;
          public boolean hasKey() {
            return result.hasKey();
          }
          public java.lang.String getKey() {
            return result.getKey();
          }
          public Builder setKey(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.hasKey = true;
            result.key_ = value;
            return this;
          }
          public Builder clearKey() {
            result.hasKey = false;
            result.key_ = getDefaultInstance().getKey();
            return this;
          }
          
          // optional string old_value = 2;
          public boolean hasOldValue() {
            return result.hasOldValue();
          }
          public java.lang.String getOldValue() {
            return result.getOldValue();
          }
          public Builder setOldValue(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.hasOldValue = true;
            result.oldValue_ = value;
            return this;
          }
          public Builder clearOldValue() {
            result.hasOldValue = false;
            result.oldValue_ = getDefaultInstance().getOldValue();
            return this;
          }
          
          // optional string new_value = 3;
          public boolean hasNewValue() {
            return result.hasNewValue();
          }
          public java.lang.String getNewValue() {
            return result.getNewValue();
          }
          public Builder setNewValue(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.hasNewValue = true;
            result.newValue_ = value;
            return this;
          }
          public Builder clearNewValue() {
            result.hasNewValue = false;
            result.newValue_ = getDefaultInstance().getNewValue();
            return this;
          }
          
          // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component.KeyValueUpdate)
        }
        
        static {
          defaultInstance = new KeyValueUpdate(true);
          org.waveprotocol.wave.federation.Proto.internalForceInit();
          defaultInstance.initFields();
        }
        
        // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component.KeyValueUpdate)
      }
      
      public static final class ElementStart extends
          com.google.protobuf.GeneratedMessage {
        // Use ElementStart.newBuilder() to construct.
        private ElementStart() {
          initFields();
        }
        private ElementStart(boolean noInit) {}
        
        private static final ElementStart defaultInstance;
        public static ElementStart getDefaultInstance() {
          return defaultInstance;
        }
        
        public ElementStart getDefaultInstanceForType() {
          return defaultInstance;
        }
        
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_descriptor;
        }
        
        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_fieldAccessorTable;
        }
        
        // required string type = 1;
        public static final int TYPE_FIELD_NUMBER = 1;
        private boolean hasType;
        private java.lang.String type_ = "";
        public boolean hasType() { return hasType; }
        public java.lang.String getType() { return type_; }
        
        // repeated .federation.ProtocolDocumentOperation.Component.KeyValuePair attribute = 2;
        public static final int ATTRIBUTE_FIELD_NUMBER = 2;
        private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> attribute_ =
          java.util.Collections.emptyList();
        public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> getAttributeList() {
          return attribute_;
        }
        public int getAttributeCount() { return attribute_.size(); }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getAttribute(int index) {
          return attribute_.get(index);
        }
        
        private void initFields() {
        }
        public final boolean isInitialized() {
          if (!hasType) return false;
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getAttributeList()) {
            if (!element.isInitialized()) return false;
          }
          return true;
        }
        
        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          getSerializedSize();
          if (hasType()) {
            output.writeString(1, getType());
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getAttributeList()) {
            output.writeMessage(2, element);
          }
          getUnknownFields().writeTo(output);
        }
        
        private int memoizedSerializedSize = -1;
        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;
        
          size = 0;
          if (hasType()) {
            size += com.google.protobuf.CodedOutputStream
              .computeStringSize(1, getType());
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getAttributeList()) {
            size += com.google.protobuf.CodedOutputStream
              .computeMessageSize(2, element);
          }
          size += getUnknownFields().getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }
        
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        
        public static Builder newBuilder() { return Builder.create(); }
        public Builder newBuilderForType() { return newBuilder(); }
        public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart prototype) {
          return newBuilder().mergeFrom(prototype);
        }
        public Builder toBuilder() { return newBuilder(this); }
        
        public static final class Builder extends
            com.google.protobuf.GeneratedMessage.Builder<Builder> {
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart result;
          
          // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.newBuilder()
          private Builder() {}
          
          private static Builder create() {
            Builder builder = new Builder();
            builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart();
            return builder;
          }
          
          protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart internalGetResult() {
            return result;
          }
          
          public Builder clear() {
            if (result == null) {
              throw new IllegalStateException(
                "Cannot call clear() after build().");
            }
            result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart();
            return this;
          }
          
          public Builder clone() {
            return create().mergeFrom(result);
          }
          
          public com.google.protobuf.Descriptors.Descriptor
              getDescriptorForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDescriptor();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart getDefaultInstanceForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance();
          }
          
          public boolean isInitialized() {
            return result.isInitialized();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart build() {
            if (result != null && !isInitialized()) {
              throw newUninitializedMessageException(result);
            }
            return buildPartial();
          }
          
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart buildParsed()
              throws com.google.protobuf.InvalidProtocolBufferException {
            if (!isInitialized()) {
              throw newUninitializedMessageException(
                result).asInvalidProtocolBufferException();
            }
            return buildPartial();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart buildPartial() {
            if (result == null) {
              throw new IllegalStateException(
                "build() has already been called on this Builder.");
            }
            if (result.attribute_ != java.util.Collections.EMPTY_LIST) {
              result.attribute_ =
                java.util.Collections.unmodifiableList(result.attribute_);
            }
            org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart returnMe = result;
            result = null;
            return returnMe;
          }
          
          public Builder mergeFrom(com.google.protobuf.Message other) {
            if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart) {
              return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart)other);
            } else {
              super.mergeFrom(other);
              return this;
            }
          }
          
          public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart other) {
            if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance()) return this;
            if (other.hasType()) {
              setType(other.getType());
            }
            if (!other.attribute_.isEmpty()) {
              if (result.attribute_.isEmpty()) {
                result.attribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
              }
              result.attribute_.addAll(other.attribute_);
            }
            this.mergeUnknownFields(other.getUnknownFields());
            return this;
          }
          
          public Builder mergeFrom(
              com.google.protobuf.CodedInputStream input,
              com.google.protobuf.ExtensionRegistryLite extensionRegistry)
              throws java.io.IOException {
            com.google.protobuf.UnknownFieldSet.Builder unknownFields =
              com.google.protobuf.UnknownFieldSet.newBuilder(
                this.getUnknownFields());
            while (true) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  this.setUnknownFields(unknownFields.build());
                  return this;
                default: {
                  if (!parseUnknownField(input, unknownFields,
                                         extensionRegistry, tag)) {
                    this.setUnknownFields(unknownFields.build());
                    return this;
                  }
                  break;
                }
                case 10: {
                  setType(input.readString());
                  break;
                }
                case 18: {
                  org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.newBuilder();
                  input.readMessage(subBuilder, extensionRegistry);
                  addAttribute(subBuilder.buildPartial());
                  break;
                }
              }
            }
          }
          
          
          // required string type = 1;
          public boolean hasType() {
            return result.hasType();
          }
          public java.lang.String getType() {
            return result.getType();
          }
          public Builder setType(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.hasType = true;
            result.type_ = value;
            return this;
          }
          public Builder clearType() {
            result.hasType = false;
            result.type_ = getDefaultInstance().getType();
            return this;
          }
          
          // repeated .federation.ProtocolDocumentOperation.Component.KeyValuePair attribute = 2;
          public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> getAttributeList() {
            return java.util.Collections.unmodifiableList(result.attribute_);
          }
          public int getAttributeCount() {
            return result.getAttributeCount();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getAttribute(int index) {
            return result.getAttribute(index);
          }
          public Builder setAttribute(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair value) {
            if (value == null) {
              throw new NullPointerException();
            }
            result.attribute_.set(index, value);
            return this;
          }
          public Builder setAttribute(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder builderForValue) {
            result.attribute_.set(index, builderForValue.build());
            return this;
          }
          public Builder addAttribute(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair value) {
            if (value == null) {
              throw new NullPointerException();
            }
            if (result.attribute_.isEmpty()) {
              result.attribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            result.attribute_.add(value);
            return this;
          }
          public Builder addAttribute(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder builderForValue) {
            if (result.attribute_.isEmpty()) {
              result.attribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            result.attribute_.add(builderForValue.build());
            return this;
          }
          public Builder addAllAttribute(
              java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> values) {
            if (result.attribute_.isEmpty()) {
              result.attribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            super.addAll(values, result.attribute_);
            return this;
          }
          public Builder clearAttribute() {
            result.attribute_ = java.util.Collections.emptyList();
            return this;
          }
          
          // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component.ElementStart)
        }
        
        static {
          defaultInstance = new ElementStart(true);
          org.waveprotocol.wave.federation.Proto.internalForceInit();
          defaultInstance.initFields();
        }
        
        // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component.ElementStart)
      }
      
      public static final class ReplaceAttributes extends
          com.google.protobuf.GeneratedMessage {
        // Use ReplaceAttributes.newBuilder() to construct.
        private ReplaceAttributes() {
          initFields();
        }
        private ReplaceAttributes(boolean noInit) {}
        
        private static final ReplaceAttributes defaultInstance;
        public static ReplaceAttributes getDefaultInstance() {
          return defaultInstance;
        }
        
        public ReplaceAttributes getDefaultInstanceForType() {
          return defaultInstance;
        }
        
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_descriptor;
        }
        
        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_fieldAccessorTable;
        }
        
        // optional bool empty = 1;
        public static final int EMPTY_FIELD_NUMBER = 1;
        private boolean hasEmpty;
        private boolean empty_ = false;
        public boolean hasEmpty() { return hasEmpty; }
        public boolean getEmpty() { return empty_; }
        
        // repeated .federation.ProtocolDocumentOperation.Component.KeyValuePair old_attribute = 2;
        public static final int OLD_ATTRIBUTE_FIELD_NUMBER = 2;
        private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> oldAttribute_ =
          java.util.Collections.emptyList();
        public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> getOldAttributeList() {
          return oldAttribute_;
        }
        public int getOldAttributeCount() { return oldAttribute_.size(); }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getOldAttribute(int index) {
          return oldAttribute_.get(index);
        }
        
        // repeated .federation.ProtocolDocumentOperation.Component.KeyValuePair new_attribute = 3;
        public static final int NEW_ATTRIBUTE_FIELD_NUMBER = 3;
        private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> newAttribute_ =
          java.util.Collections.emptyList();
        public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> getNewAttributeList() {
          return newAttribute_;
        }
        public int getNewAttributeCount() { return newAttribute_.size(); }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getNewAttribute(int index) {
          return newAttribute_.get(index);
        }
        
        private void initFields() {
        }
        public final boolean isInitialized() {
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getOldAttributeList()) {
            if (!element.isInitialized()) return false;
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getNewAttributeList()) {
            if (!element.isInitialized()) return false;
          }
          return true;
        }
        
        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          getSerializedSize();
          if (hasEmpty()) {
            output.writeBool(1, getEmpty());
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getOldAttributeList()) {
            output.writeMessage(2, element);
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getNewAttributeList()) {
            output.writeMessage(3, element);
          }
          getUnknownFields().writeTo(output);
        }
        
        private int memoizedSerializedSize = -1;
        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;
        
          size = 0;
          if (hasEmpty()) {
            size += com.google.protobuf.CodedOutputStream
              .computeBoolSize(1, getEmpty());
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getOldAttributeList()) {
            size += com.google.protobuf.CodedOutputStream
              .computeMessageSize(2, element);
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair element : getNewAttributeList()) {
            size += com.google.protobuf.CodedOutputStream
              .computeMessageSize(3, element);
          }
          size += getUnknownFields().getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }
        
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        
        public static Builder newBuilder() { return Builder.create(); }
        public Builder newBuilderForType() { return newBuilder(); }
        public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes prototype) {
          return newBuilder().mergeFrom(prototype);
        }
        public Builder toBuilder() { return newBuilder(this); }
        
        public static final class Builder extends
            com.google.protobuf.GeneratedMessage.Builder<Builder> {
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes result;
          
          // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.newBuilder()
          private Builder() {}
          
          private static Builder create() {
            Builder builder = new Builder();
            builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes();
            return builder;
          }
          
          protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes internalGetResult() {
            return result;
          }
          
          public Builder clear() {
            if (result == null) {
              throw new IllegalStateException(
                "Cannot call clear() after build().");
            }
            result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes();
            return this;
          }
          
          public Builder clone() {
            return create().mergeFrom(result);
          }
          
          public com.google.protobuf.Descriptors.Descriptor
              getDescriptorForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.getDescriptor();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes getDefaultInstanceForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.getDefaultInstance();
          }
          
          public boolean isInitialized() {
            return result.isInitialized();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes build() {
            if (result != null && !isInitialized()) {
              throw newUninitializedMessageException(result);
            }
            return buildPartial();
          }
          
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes buildParsed()
              throws com.google.protobuf.InvalidProtocolBufferException {
            if (!isInitialized()) {
              throw newUninitializedMessageException(
                result).asInvalidProtocolBufferException();
            }
            return buildPartial();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes buildPartial() {
            if (result == null) {
              throw new IllegalStateException(
                "build() has already been called on this Builder.");
            }
            if (result.oldAttribute_ != java.util.Collections.EMPTY_LIST) {
              result.oldAttribute_ =
                java.util.Collections.unmodifiableList(result.oldAttribute_);
            }
            if (result.newAttribute_ != java.util.Collections.EMPTY_LIST) {
              result.newAttribute_ =
                java.util.Collections.unmodifiableList(result.newAttribute_);
            }
            org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes returnMe = result;
            result = null;
            return returnMe;
          }
          
          public Builder mergeFrom(com.google.protobuf.Message other) {
            if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes) {
              return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes)other);
            } else {
              super.mergeFrom(other);
              return this;
            }
          }
          
          public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes other) {
            if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.getDefaultInstance()) return this;
            if (other.hasEmpty()) {
              setEmpty(other.getEmpty());
            }
            if (!other.oldAttribute_.isEmpty()) {
              if (result.oldAttribute_.isEmpty()) {
                result.oldAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
              }
              result.oldAttribute_.addAll(other.oldAttribute_);
            }
            if (!other.newAttribute_.isEmpty()) {
              if (result.newAttribute_.isEmpty()) {
                result.newAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
              }
              result.newAttribute_.addAll(other.newAttribute_);
            }
            this.mergeUnknownFields(other.getUnknownFields());
            return this;
          }
          
          public Builder mergeFrom(
              com.google.protobuf.CodedInputStream input,
              com.google.protobuf.ExtensionRegistryLite extensionRegistry)
              throws java.io.IOException {
            com.google.protobuf.UnknownFieldSet.Builder unknownFields =
              com.google.protobuf.UnknownFieldSet.newBuilder(
                this.getUnknownFields());
            while (true) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  this.setUnknownFields(unknownFields.build());
                  return this;
                default: {
                  if (!parseUnknownField(input, unknownFields,
                                         extensionRegistry, tag)) {
                    this.setUnknownFields(unknownFields.build());
                    return this;
                  }
                  break;
                }
                case 8: {
                  setEmpty(input.readBool());
                  break;
                }
                case 18: {
                  org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.newBuilder();
                  input.readMessage(subBuilder, extensionRegistry);
                  addOldAttribute(subBuilder.buildPartial());
                  break;
                }
                case 26: {
                  org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.newBuilder();
                  input.readMessage(subBuilder, extensionRegistry);
                  addNewAttribute(subBuilder.buildPartial());
                  break;
                }
              }
            }
          }
          
          
          // optional bool empty = 1;
          public boolean hasEmpty() {
            return result.hasEmpty();
          }
          public boolean getEmpty() {
            return result.getEmpty();
          }
          public Builder setEmpty(boolean value) {
            result.hasEmpty = true;
            result.empty_ = value;
            return this;
          }
          public Builder clearEmpty() {
            result.hasEmpty = false;
            result.empty_ = false;
            return this;
          }
          
          // repeated .federation.ProtocolDocumentOperation.Component.KeyValuePair old_attribute = 2;
          public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> getOldAttributeList() {
            return java.util.Collections.unmodifiableList(result.oldAttribute_);
          }
          public int getOldAttributeCount() {
            return result.getOldAttributeCount();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getOldAttribute(int index) {
            return result.getOldAttribute(index);
          }
          public Builder setOldAttribute(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair value) {
            if (value == null) {
              throw new NullPointerException();
            }
            result.oldAttribute_.set(index, value);
            return this;
          }
          public Builder setOldAttribute(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder builderForValue) {
            result.oldAttribute_.set(index, builderForValue.build());
            return this;
          }
          public Builder addOldAttribute(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair value) {
            if (value == null) {
              throw new NullPointerException();
            }
            if (result.oldAttribute_.isEmpty()) {
              result.oldAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            result.oldAttribute_.add(value);
            return this;
          }
          public Builder addOldAttribute(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder builderForValue) {
            if (result.oldAttribute_.isEmpty()) {
              result.oldAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            result.oldAttribute_.add(builderForValue.build());
            return this;
          }
          public Builder addAllOldAttribute(
              java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> values) {
            if (result.oldAttribute_.isEmpty()) {
              result.oldAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            super.addAll(values, result.oldAttribute_);
            return this;
          }
          public Builder clearOldAttribute() {
            result.oldAttribute_ = java.util.Collections.emptyList();
            return this;
          }
          
          // repeated .federation.ProtocolDocumentOperation.Component.KeyValuePair new_attribute = 3;
          public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> getNewAttributeList() {
            return java.util.Collections.unmodifiableList(result.newAttribute_);
          }
          public int getNewAttributeCount() {
            return result.getNewAttributeCount();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair getNewAttribute(int index) {
            return result.getNewAttribute(index);
          }
          public Builder setNewAttribute(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair value) {
            if (value == null) {
              throw new NullPointerException();
            }
            result.newAttribute_.set(index, value);
            return this;
          }
          public Builder setNewAttribute(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder builderForValue) {
            result.newAttribute_.set(index, builderForValue.build());
            return this;
          }
          public Builder addNewAttribute(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair value) {
            if (value == null) {
              throw new NullPointerException();
            }
            if (result.newAttribute_.isEmpty()) {
              result.newAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            result.newAttribute_.add(value);
            return this;
          }
          public Builder addNewAttribute(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder builderForValue) {
            if (result.newAttribute_.isEmpty()) {
              result.newAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            result.newAttribute_.add(builderForValue.build());
            return this;
          }
          public Builder addAllNewAttribute(
              java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair> values) {
            if (result.newAttribute_.isEmpty()) {
              result.newAttribute_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair>();
            }
            super.addAll(values, result.newAttribute_);
            return this;
          }
          public Builder clearNewAttribute() {
            result.newAttribute_ = java.util.Collections.emptyList();
            return this;
          }
          
          // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component.ReplaceAttributes)
        }
        
        static {
          defaultInstance = new ReplaceAttributes(true);
          org.waveprotocol.wave.federation.Proto.internalForceInit();
          defaultInstance.initFields();
        }
        
        // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component.ReplaceAttributes)
      }
      
      public static final class UpdateAttributes extends
          com.google.protobuf.GeneratedMessage {
        // Use UpdateAttributes.newBuilder() to construct.
        private UpdateAttributes() {
          initFields();
        }
        private UpdateAttributes(boolean noInit) {}
        
        private static final UpdateAttributes defaultInstance;
        public static UpdateAttributes getDefaultInstance() {
          return defaultInstance;
        }
        
        public UpdateAttributes getDefaultInstanceForType() {
          return defaultInstance;
        }
        
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_descriptor;
        }
        
        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_fieldAccessorTable;
        }
        
        // optional bool empty = 1;
        public static final int EMPTY_FIELD_NUMBER = 1;
        private boolean hasEmpty;
        private boolean empty_ = false;
        public boolean hasEmpty() { return hasEmpty; }
        public boolean getEmpty() { return empty_; }
        
        // repeated .federation.ProtocolDocumentOperation.Component.KeyValueUpdate attribute_update = 2;
        public static final int ATTRIBUTE_UPDATE_FIELD_NUMBER = 2;
        private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> attributeUpdate_ =
          java.util.Collections.emptyList();
        public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> getAttributeUpdateList() {
          return attributeUpdate_;
        }
        public int getAttributeUpdateCount() { return attributeUpdate_.size(); }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate getAttributeUpdate(int index) {
          return attributeUpdate_.get(index);
        }
        
        private void initFields() {
        }
        public final boolean isInitialized() {
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate element : getAttributeUpdateList()) {
            if (!element.isInitialized()) return false;
          }
          return true;
        }
        
        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          getSerializedSize();
          if (hasEmpty()) {
            output.writeBool(1, getEmpty());
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate element : getAttributeUpdateList()) {
            output.writeMessage(2, element);
          }
          getUnknownFields().writeTo(output);
        }
        
        private int memoizedSerializedSize = -1;
        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;
        
          size = 0;
          if (hasEmpty()) {
            size += com.google.protobuf.CodedOutputStream
              .computeBoolSize(1, getEmpty());
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate element : getAttributeUpdateList()) {
            size += com.google.protobuf.CodedOutputStream
              .computeMessageSize(2, element);
          }
          size += getUnknownFields().getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }
        
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        
        public static Builder newBuilder() { return Builder.create(); }
        public Builder newBuilderForType() { return newBuilder(); }
        public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes prototype) {
          return newBuilder().mergeFrom(prototype);
        }
        public Builder toBuilder() { return newBuilder(this); }
        
        public static final class Builder extends
            com.google.protobuf.GeneratedMessage.Builder<Builder> {
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes result;
          
          // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.newBuilder()
          private Builder() {}
          
          private static Builder create() {
            Builder builder = new Builder();
            builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes();
            return builder;
          }
          
          protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes internalGetResult() {
            return result;
          }
          
          public Builder clear() {
            if (result == null) {
              throw new IllegalStateException(
                "Cannot call clear() after build().");
            }
            result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes();
            return this;
          }
          
          public Builder clone() {
            return create().mergeFrom(result);
          }
          
          public com.google.protobuf.Descriptors.Descriptor
              getDescriptorForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.getDescriptor();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes getDefaultInstanceForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.getDefaultInstance();
          }
          
          public boolean isInitialized() {
            return result.isInitialized();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes build() {
            if (result != null && !isInitialized()) {
              throw newUninitializedMessageException(result);
            }
            return buildPartial();
          }
          
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes buildParsed()
              throws com.google.protobuf.InvalidProtocolBufferException {
            if (!isInitialized()) {
              throw newUninitializedMessageException(
                result).asInvalidProtocolBufferException();
            }
            return buildPartial();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes buildPartial() {
            if (result == null) {
              throw new IllegalStateException(
                "build() has already been called on this Builder.");
            }
            if (result.attributeUpdate_ != java.util.Collections.EMPTY_LIST) {
              result.attributeUpdate_ =
                java.util.Collections.unmodifiableList(result.attributeUpdate_);
            }
            org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes returnMe = result;
            result = null;
            return returnMe;
          }
          
          public Builder mergeFrom(com.google.protobuf.Message other) {
            if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes) {
              return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes)other);
            } else {
              super.mergeFrom(other);
              return this;
            }
          }
          
          public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes other) {
            if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.getDefaultInstance()) return this;
            if (other.hasEmpty()) {
              setEmpty(other.getEmpty());
            }
            if (!other.attributeUpdate_.isEmpty()) {
              if (result.attributeUpdate_.isEmpty()) {
                result.attributeUpdate_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
              }
              result.attributeUpdate_.addAll(other.attributeUpdate_);
            }
            this.mergeUnknownFields(other.getUnknownFields());
            return this;
          }
          
          public Builder mergeFrom(
              com.google.protobuf.CodedInputStream input,
              com.google.protobuf.ExtensionRegistryLite extensionRegistry)
              throws java.io.IOException {
            com.google.protobuf.UnknownFieldSet.Builder unknownFields =
              com.google.protobuf.UnknownFieldSet.newBuilder(
                this.getUnknownFields());
            while (true) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  this.setUnknownFields(unknownFields.build());
                  return this;
                default: {
                  if (!parseUnknownField(input, unknownFields,
                                         extensionRegistry, tag)) {
                    this.setUnknownFields(unknownFields.build());
                    return this;
                  }
                  break;
                }
                case 8: {
                  setEmpty(input.readBool());
                  break;
                }
                case 18: {
                  org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.newBuilder();
                  input.readMessage(subBuilder, extensionRegistry);
                  addAttributeUpdate(subBuilder.buildPartial());
                  break;
                }
              }
            }
          }
          
          
          // optional bool empty = 1;
          public boolean hasEmpty() {
            return result.hasEmpty();
          }
          public boolean getEmpty() {
            return result.getEmpty();
          }
          public Builder setEmpty(boolean value) {
            result.hasEmpty = true;
            result.empty_ = value;
            return this;
          }
          public Builder clearEmpty() {
            result.hasEmpty = false;
            result.empty_ = false;
            return this;
          }
          
          // repeated .federation.ProtocolDocumentOperation.Component.KeyValueUpdate attribute_update = 2;
          public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> getAttributeUpdateList() {
            return java.util.Collections.unmodifiableList(result.attributeUpdate_);
          }
          public int getAttributeUpdateCount() {
            return result.getAttributeUpdateCount();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate getAttributeUpdate(int index) {
            return result.getAttributeUpdate(index);
          }
          public Builder setAttributeUpdate(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate value) {
            if (value == null) {
              throw new NullPointerException();
            }
            result.attributeUpdate_.set(index, value);
            return this;
          }
          public Builder setAttributeUpdate(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder builderForValue) {
            result.attributeUpdate_.set(index, builderForValue.build());
            return this;
          }
          public Builder addAttributeUpdate(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate value) {
            if (value == null) {
              throw new NullPointerException();
            }
            if (result.attributeUpdate_.isEmpty()) {
              result.attributeUpdate_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
            }
            result.attributeUpdate_.add(value);
            return this;
          }
          public Builder addAttributeUpdate(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder builderForValue) {
            if (result.attributeUpdate_.isEmpty()) {
              result.attributeUpdate_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
            }
            result.attributeUpdate_.add(builderForValue.build());
            return this;
          }
          public Builder addAllAttributeUpdate(
              java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> values) {
            if (result.attributeUpdate_.isEmpty()) {
              result.attributeUpdate_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
            }
            super.addAll(values, result.attributeUpdate_);
            return this;
          }
          public Builder clearAttributeUpdate() {
            result.attributeUpdate_ = java.util.Collections.emptyList();
            return this;
          }
          
          // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component.UpdateAttributes)
        }
        
        static {
          defaultInstance = new UpdateAttributes(true);
          org.waveprotocol.wave.federation.Proto.internalForceInit();
          defaultInstance.initFields();
        }
        
        // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component.UpdateAttributes)
      }
      
      public static final class AnnotationBoundary extends
          com.google.protobuf.GeneratedMessage {
        // Use AnnotationBoundary.newBuilder() to construct.
        private AnnotationBoundary() {
          initFields();
        }
        private AnnotationBoundary(boolean noInit) {}
        
        private static final AnnotationBoundary defaultInstance;
        public static AnnotationBoundary getDefaultInstance() {
          return defaultInstance;
        }
        
        public AnnotationBoundary getDefaultInstanceForType() {
          return defaultInstance;
        }
        
        public static final com.google.protobuf.Descriptors.Descriptor
            getDescriptor() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_descriptor;
        }
        
        protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
            internalGetFieldAccessorTable() {
          return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_fieldAccessorTable;
        }
        
        // optional bool empty = 1;
        public static final int EMPTY_FIELD_NUMBER = 1;
        private boolean hasEmpty;
        private boolean empty_ = false;
        public boolean hasEmpty() { return hasEmpty; }
        public boolean getEmpty() { return empty_; }
        
        // repeated string end = 2;
        public static final int END_FIELD_NUMBER = 2;
        private java.util.List<java.lang.String> end_ =
          java.util.Collections.emptyList();
        public java.util.List<java.lang.String> getEndList() {
          return end_;
        }
        public int getEndCount() { return end_.size(); }
        public java.lang.String getEnd(int index) {
          return end_.get(index);
        }
        
        // repeated .federation.ProtocolDocumentOperation.Component.KeyValueUpdate change = 3;
        public static final int CHANGE_FIELD_NUMBER = 3;
        private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> change_ =
          java.util.Collections.emptyList();
        public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> getChangeList() {
          return change_;
        }
        public int getChangeCount() { return change_.size(); }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate getChange(int index) {
          return change_.get(index);
        }
        
        private void initFields() {
        }
        public final boolean isInitialized() {
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate element : getChangeList()) {
            if (!element.isInitialized()) return false;
          }
          return true;
        }
        
        public void writeTo(com.google.protobuf.CodedOutputStream output)
                            throws java.io.IOException {
          getSerializedSize();
          if (hasEmpty()) {
            output.writeBool(1, getEmpty());
          }
          for (java.lang.String element : getEndList()) {
            output.writeString(2, element);
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate element : getChangeList()) {
            output.writeMessage(3, element);
          }
          getUnknownFields().writeTo(output);
        }
        
        private int memoizedSerializedSize = -1;
        public int getSerializedSize() {
          int size = memoizedSerializedSize;
          if (size != -1) return size;
        
          size = 0;
          if (hasEmpty()) {
            size += com.google.protobuf.CodedOutputStream
              .computeBoolSize(1, getEmpty());
          }
          {
            int dataSize = 0;
            for (java.lang.String element : getEndList()) {
              dataSize += com.google.protobuf.CodedOutputStream
                .computeStringSizeNoTag(element);
            }
            size += dataSize;
            size += 1 * getEndList().size();
          }
          for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate element : getChangeList()) {
            size += com.google.protobuf.CodedOutputStream
              .computeMessageSize(3, element);
          }
          size += getUnknownFields().getSerializedSize();
          memoizedSerializedSize = size;
          return size;
        }
        
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(
            com.google.protobuf.ByteString data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(
            com.google.protobuf.ByteString data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(byte[] data)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(
            byte[] data,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws com.google.protobuf.InvalidProtocolBufferException {
          return newBuilder().mergeFrom(data, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(java.io.InputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseDelimitedFrom(java.io.InputStream input)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseDelimitedFrom(
            java.io.InputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          Builder builder = newBuilder();
          if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
            return builder.buildParsed();
          } else {
            return null;
          }
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(
            com.google.protobuf.CodedInputStream input)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input).buildParsed();
        }
        public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary parseFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          return newBuilder().mergeFrom(input, extensionRegistry)
                   .buildParsed();
        }
        
        public static Builder newBuilder() { return Builder.create(); }
        public Builder newBuilderForType() { return newBuilder(); }
        public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary prototype) {
          return newBuilder().mergeFrom(prototype);
        }
        public Builder toBuilder() { return newBuilder(this); }
        
        public static final class Builder extends
            com.google.protobuf.GeneratedMessage.Builder<Builder> {
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary result;
          
          // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.newBuilder()
          private Builder() {}
          
          private static Builder create() {
            Builder builder = new Builder();
            builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary();
            return builder;
          }
          
          protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary internalGetResult() {
            return result;
          }
          
          public Builder clear() {
            if (result == null) {
              throw new IllegalStateException(
                "Cannot call clear() after build().");
            }
            result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary();
            return this;
          }
          
          public Builder clone() {
            return create().mergeFrom(result);
          }
          
          public com.google.protobuf.Descriptors.Descriptor
              getDescriptorForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.getDescriptor();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary getDefaultInstanceForType() {
            return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.getDefaultInstance();
          }
          
          public boolean isInitialized() {
            return result.isInitialized();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary build() {
            if (result != null && !isInitialized()) {
              throw newUninitializedMessageException(result);
            }
            return buildPartial();
          }
          
          private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary buildParsed()
              throws com.google.protobuf.InvalidProtocolBufferException {
            if (!isInitialized()) {
              throw newUninitializedMessageException(
                result).asInvalidProtocolBufferException();
            }
            return buildPartial();
          }
          
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary buildPartial() {
            if (result == null) {
              throw new IllegalStateException(
                "build() has already been called on this Builder.");
            }
            if (result.end_ != java.util.Collections.EMPTY_LIST) {
              result.end_ =
                java.util.Collections.unmodifiableList(result.end_);
            }
            if (result.change_ != java.util.Collections.EMPTY_LIST) {
              result.change_ =
                java.util.Collections.unmodifiableList(result.change_);
            }
            org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary returnMe = result;
            result = null;
            return returnMe;
          }
          
          public Builder mergeFrom(com.google.protobuf.Message other) {
            if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary) {
              return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary)other);
            } else {
              super.mergeFrom(other);
              return this;
            }
          }
          
          public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary other) {
            if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.getDefaultInstance()) return this;
            if (other.hasEmpty()) {
              setEmpty(other.getEmpty());
            }
            if (!other.end_.isEmpty()) {
              if (result.end_.isEmpty()) {
                result.end_ = new java.util.ArrayList<java.lang.String>();
              }
              result.end_.addAll(other.end_);
            }
            if (!other.change_.isEmpty()) {
              if (result.change_.isEmpty()) {
                result.change_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
              }
              result.change_.addAll(other.change_);
            }
            this.mergeUnknownFields(other.getUnknownFields());
            return this;
          }
          
          public Builder mergeFrom(
              com.google.protobuf.CodedInputStream input,
              com.google.protobuf.ExtensionRegistryLite extensionRegistry)
              throws java.io.IOException {
            com.google.protobuf.UnknownFieldSet.Builder unknownFields =
              com.google.protobuf.UnknownFieldSet.newBuilder(
                this.getUnknownFields());
            while (true) {
              int tag = input.readTag();
              switch (tag) {
                case 0:
                  this.setUnknownFields(unknownFields.build());
                  return this;
                default: {
                  if (!parseUnknownField(input, unknownFields,
                                         extensionRegistry, tag)) {
                    this.setUnknownFields(unknownFields.build());
                    return this;
                  }
                  break;
                }
                case 8: {
                  setEmpty(input.readBool());
                  break;
                }
                case 18: {
                  addEnd(input.readString());
                  break;
                }
                case 26: {
                  org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.newBuilder();
                  input.readMessage(subBuilder, extensionRegistry);
                  addChange(subBuilder.buildPartial());
                  break;
                }
              }
            }
          }
          
          
          // optional bool empty = 1;
          public boolean hasEmpty() {
            return result.hasEmpty();
          }
          public boolean getEmpty() {
            return result.getEmpty();
          }
          public Builder setEmpty(boolean value) {
            result.hasEmpty = true;
            result.empty_ = value;
            return this;
          }
          public Builder clearEmpty() {
            result.hasEmpty = false;
            result.empty_ = false;
            return this;
          }
          
          // repeated string end = 2;
          public java.util.List<java.lang.String> getEndList() {
            return java.util.Collections.unmodifiableList(result.end_);
          }
          public int getEndCount() {
            return result.getEndCount();
          }
          public java.lang.String getEnd(int index) {
            return result.getEnd(index);
          }
          public Builder setEnd(int index, java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  result.end_.set(index, value);
            return this;
          }
          public Builder addEnd(java.lang.String value) {
            if (value == null) {
    throw new NullPointerException();
  }
  if (result.end_.isEmpty()) {
              result.end_ = new java.util.ArrayList<java.lang.String>();
            }
            result.end_.add(value);
            return this;
          }
          public Builder addAllEnd(
              java.lang.Iterable<? extends java.lang.String> values) {
            if (result.end_.isEmpty()) {
              result.end_ = new java.util.ArrayList<java.lang.String>();
            }
            super.addAll(values, result.end_);
            return this;
          }
          public Builder clearEnd() {
            result.end_ = java.util.Collections.emptyList();
            return this;
          }
          
          // repeated .federation.ProtocolDocumentOperation.Component.KeyValueUpdate change = 3;
          public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> getChangeList() {
            return java.util.Collections.unmodifiableList(result.change_);
          }
          public int getChangeCount() {
            return result.getChangeCount();
          }
          public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate getChange(int index) {
            return result.getChange(index);
          }
          public Builder setChange(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate value) {
            if (value == null) {
              throw new NullPointerException();
            }
            result.change_.set(index, value);
            return this;
          }
          public Builder setChange(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder builderForValue) {
            result.change_.set(index, builderForValue.build());
            return this;
          }
          public Builder addChange(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate value) {
            if (value == null) {
              throw new NullPointerException();
            }
            if (result.change_.isEmpty()) {
              result.change_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
            }
            result.change_.add(value);
            return this;
          }
          public Builder addChange(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder builderForValue) {
            if (result.change_.isEmpty()) {
              result.change_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
            }
            result.change_.add(builderForValue.build());
            return this;
          }
          public Builder addAllChange(
              java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate> values) {
            if (result.change_.isEmpty()) {
              result.change_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate>();
            }
            super.addAll(values, result.change_);
            return this;
          }
          public Builder clearChange() {
            result.change_ = java.util.Collections.emptyList();
            return this;
          }
          
          // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component.AnnotationBoundary)
        }
        
        static {
          defaultInstance = new AnnotationBoundary(true);
          org.waveprotocol.wave.federation.Proto.internalForceInit();
          defaultInstance.initFields();
        }
        
        // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component.AnnotationBoundary)
      }
      
      // optional .federation.ProtocolDocumentOperation.Component.AnnotationBoundary annotation_boundary = 1;
      public static final int ANNOTATION_BOUNDARY_FIELD_NUMBER = 1;
      private boolean hasAnnotationBoundary;
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary annotationBoundary_;
      public boolean hasAnnotationBoundary() { return hasAnnotationBoundary; }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary getAnnotationBoundary() { return annotationBoundary_; }
      
      // optional string characters = 2;
      public static final int CHARACTERS_FIELD_NUMBER = 2;
      private boolean hasCharacters;
      private java.lang.String characters_ = "";
      public boolean hasCharacters() { return hasCharacters; }
      public java.lang.String getCharacters() { return characters_; }
      
      // optional .federation.ProtocolDocumentOperation.Component.ElementStart element_start = 3;
      public static final int ELEMENT_START_FIELD_NUMBER = 3;
      private boolean hasElementStart;
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart elementStart_;
      public boolean hasElementStart() { return hasElementStart; }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart getElementStart() { return elementStart_; }
      
      // optional bool element_end = 4;
      public static final int ELEMENT_END_FIELD_NUMBER = 4;
      private boolean hasElementEnd;
      private boolean elementEnd_ = false;
      public boolean hasElementEnd() { return hasElementEnd; }
      public boolean getElementEnd() { return elementEnd_; }
      
      // optional int32 retain_item_count = 5;
      public static final int RETAIN_ITEM_COUNT_FIELD_NUMBER = 5;
      private boolean hasRetainItemCount;
      private int retainItemCount_ = 0;
      public boolean hasRetainItemCount() { return hasRetainItemCount; }
      public int getRetainItemCount() { return retainItemCount_; }
      
      // optional string delete_characters = 6;
      public static final int DELETE_CHARACTERS_FIELD_NUMBER = 6;
      private boolean hasDeleteCharacters;
      private java.lang.String deleteCharacters_ = "";
      public boolean hasDeleteCharacters() { return hasDeleteCharacters; }
      public java.lang.String getDeleteCharacters() { return deleteCharacters_; }
      
      // optional .federation.ProtocolDocumentOperation.Component.ElementStart delete_element_start = 7;
      public static final int DELETE_ELEMENT_START_FIELD_NUMBER = 7;
      private boolean hasDeleteElementStart;
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart deleteElementStart_;
      public boolean hasDeleteElementStart() { return hasDeleteElementStart; }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart getDeleteElementStart() { return deleteElementStart_; }
      
      // optional bool delete_element_end = 8;
      public static final int DELETE_ELEMENT_END_FIELD_NUMBER = 8;
      private boolean hasDeleteElementEnd;
      private boolean deleteElementEnd_ = false;
      public boolean hasDeleteElementEnd() { return hasDeleteElementEnd; }
      public boolean getDeleteElementEnd() { return deleteElementEnd_; }
      
      // optional .federation.ProtocolDocumentOperation.Component.ReplaceAttributes replace_attributes = 9;
      public static final int REPLACE_ATTRIBUTES_FIELD_NUMBER = 9;
      private boolean hasReplaceAttributes;
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes replaceAttributes_;
      public boolean hasReplaceAttributes() { return hasReplaceAttributes; }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes getReplaceAttributes() { return replaceAttributes_; }
      
      // optional .federation.ProtocolDocumentOperation.Component.UpdateAttributes update_attributes = 10;
      public static final int UPDATE_ATTRIBUTES_FIELD_NUMBER = 10;
      private boolean hasUpdateAttributes;
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes updateAttributes_;
      public boolean hasUpdateAttributes() { return hasUpdateAttributes; }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes getUpdateAttributes() { return updateAttributes_; }
      
      private void initFields() {
        annotationBoundary_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.getDefaultInstance();
        elementStart_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance();
        deleteElementStart_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance();
        replaceAttributes_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.getDefaultInstance();
        updateAttributes_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.getDefaultInstance();
      }
      public final boolean isInitialized() {
        if (hasAnnotationBoundary()) {
          if (!getAnnotationBoundary().isInitialized()) return false;
        }
        if (hasElementStart()) {
          if (!getElementStart().isInitialized()) return false;
        }
        if (hasDeleteElementStart()) {
          if (!getDeleteElementStart().isInitialized()) return false;
        }
        if (hasReplaceAttributes()) {
          if (!getReplaceAttributes().isInitialized()) return false;
        }
        if (hasUpdateAttributes()) {
          if (!getUpdateAttributes().isInitialized()) return false;
        }
        return true;
      }
      
      public void writeTo(com.google.protobuf.CodedOutputStream output)
                          throws java.io.IOException {
        getSerializedSize();
        if (hasAnnotationBoundary()) {
          output.writeMessage(1, getAnnotationBoundary());
        }
        if (hasCharacters()) {
          output.writeString(2, getCharacters());
        }
        if (hasElementStart()) {
          output.writeMessage(3, getElementStart());
        }
        if (hasElementEnd()) {
          output.writeBool(4, getElementEnd());
        }
        if (hasRetainItemCount()) {
          output.writeInt32(5, getRetainItemCount());
        }
        if (hasDeleteCharacters()) {
          output.writeString(6, getDeleteCharacters());
        }
        if (hasDeleteElementStart()) {
          output.writeMessage(7, getDeleteElementStart());
        }
        if (hasDeleteElementEnd()) {
          output.writeBool(8, getDeleteElementEnd());
        }
        if (hasReplaceAttributes()) {
          output.writeMessage(9, getReplaceAttributes());
        }
        if (hasUpdateAttributes()) {
          output.writeMessage(10, getUpdateAttributes());
        }
        getUnknownFields().writeTo(output);
      }
      
      private int memoizedSerializedSize = -1;
      public int getSerializedSize() {
        int size = memoizedSerializedSize;
        if (size != -1) return size;
      
        size = 0;
        if (hasAnnotationBoundary()) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(1, getAnnotationBoundary());
        }
        if (hasCharacters()) {
          size += com.google.protobuf.CodedOutputStream
            .computeStringSize(2, getCharacters());
        }
        if (hasElementStart()) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(3, getElementStart());
        }
        if (hasElementEnd()) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(4, getElementEnd());
        }
        if (hasRetainItemCount()) {
          size += com.google.protobuf.CodedOutputStream
            .computeInt32Size(5, getRetainItemCount());
        }
        if (hasDeleteCharacters()) {
          size += com.google.protobuf.CodedOutputStream
            .computeStringSize(6, getDeleteCharacters());
        }
        if (hasDeleteElementStart()) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(7, getDeleteElementStart());
        }
        if (hasDeleteElementEnd()) {
          size += com.google.protobuf.CodedOutputStream
            .computeBoolSize(8, getDeleteElementEnd());
        }
        if (hasReplaceAttributes()) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(9, getReplaceAttributes());
        }
        if (hasUpdateAttributes()) {
          size += com.google.protobuf.CodedOutputStream
            .computeMessageSize(10, getUpdateAttributes());
        }
        size += getUnknownFields().getSerializedSize();
        memoizedSerializedSize = size;
        return size;
      }
      
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(
          com.google.protobuf.ByteString data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(
          com.google.protobuf.ByteString data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data, extensionRegistry)
                 .buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(byte[] data)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(
          byte[] data,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws com.google.protobuf.InvalidProtocolBufferException {
        return newBuilder().mergeFrom(data, extensionRegistry)
                 .buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(java.io.InputStream input)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input, extensionRegistry)
                 .buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseDelimitedFrom(java.io.InputStream input)
          throws java.io.IOException {
        Builder builder = newBuilder();
        if (builder.mergeDelimitedFrom(input)) {
          return builder.buildParsed();
        } else {
          return null;
        }
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseDelimitedFrom(
          java.io.InputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        Builder builder = newBuilder();
        if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
          return builder.buildParsed();
        } else {
          return null;
        }
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(
          com.google.protobuf.CodedInputStream input)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input).buildParsed();
      }
      public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component parseFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        return newBuilder().mergeFrom(input, extensionRegistry)
                 .buildParsed();
      }
      
      public static Builder newBuilder() { return Builder.create(); }
      public Builder newBuilderForType() { return newBuilder(); }
      public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component prototype) {
        return newBuilder().mergeFrom(prototype);
      }
      public Builder toBuilder() { return newBuilder(this); }
      
      public static final class Builder extends
          com.google.protobuf.GeneratedMessage.Builder<Builder> {
        private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component result;
        
        // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.newBuilder()
        private Builder() {}
        
        private static Builder create() {
          Builder builder = new Builder();
          builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component();
          return builder;
        }
        
        protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component internalGetResult() {
          return result;
        }
        
        public Builder clear() {
          if (result == null) {
            throw new IllegalStateException(
              "Cannot call clear() after build().");
          }
          result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component();
          return this;
        }
        
        public Builder clone() {
          return create().mergeFrom(result);
        }
        
        public com.google.protobuf.Descriptors.Descriptor
            getDescriptorForType() {
          return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.getDescriptor();
        }
        
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component getDefaultInstanceForType() {
          return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.getDefaultInstance();
        }
        
        public boolean isInitialized() {
          return result.isInitialized();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component build() {
          if (result != null && !isInitialized()) {
            throw newUninitializedMessageException(result);
          }
          return buildPartial();
        }
        
        private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component buildParsed()
            throws com.google.protobuf.InvalidProtocolBufferException {
          if (!isInitialized()) {
            throw newUninitializedMessageException(
              result).asInvalidProtocolBufferException();
          }
          return buildPartial();
        }
        
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component buildPartial() {
          if (result == null) {
            throw new IllegalStateException(
              "build() has already been called on this Builder.");
          }
          org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component returnMe = result;
          result = null;
          return returnMe;
        }
        
        public Builder mergeFrom(com.google.protobuf.Message other) {
          if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component) {
            return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component)other);
          } else {
            super.mergeFrom(other);
            return this;
          }
        }
        
        public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component other) {
          if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.getDefaultInstance()) return this;
          if (other.hasAnnotationBoundary()) {
            mergeAnnotationBoundary(other.getAnnotationBoundary());
          }
          if (other.hasCharacters()) {
            setCharacters(other.getCharacters());
          }
          if (other.hasElementStart()) {
            mergeElementStart(other.getElementStart());
          }
          if (other.hasElementEnd()) {
            setElementEnd(other.getElementEnd());
          }
          if (other.hasRetainItemCount()) {
            setRetainItemCount(other.getRetainItemCount());
          }
          if (other.hasDeleteCharacters()) {
            setDeleteCharacters(other.getDeleteCharacters());
          }
          if (other.hasDeleteElementStart()) {
            mergeDeleteElementStart(other.getDeleteElementStart());
          }
          if (other.hasDeleteElementEnd()) {
            setDeleteElementEnd(other.getDeleteElementEnd());
          }
          if (other.hasReplaceAttributes()) {
            mergeReplaceAttributes(other.getReplaceAttributes());
          }
          if (other.hasUpdateAttributes()) {
            mergeUpdateAttributes(other.getUpdateAttributes());
          }
          this.mergeUnknownFields(other.getUnknownFields());
          return this;
        }
        
        public Builder mergeFrom(
            com.google.protobuf.CodedInputStream input,
            com.google.protobuf.ExtensionRegistryLite extensionRegistry)
            throws java.io.IOException {
          com.google.protobuf.UnknownFieldSet.Builder unknownFields =
            com.google.protobuf.UnknownFieldSet.newBuilder(
              this.getUnknownFields());
          while (true) {
            int tag = input.readTag();
            switch (tag) {
              case 0:
                this.setUnknownFields(unknownFields.build());
                return this;
              default: {
                if (!parseUnknownField(input, unknownFields,
                                       extensionRegistry, tag)) {
                  this.setUnknownFields(unknownFields.build());
                  return this;
                }
                break;
              }
              case 10: {
                org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.newBuilder();
                if (hasAnnotationBoundary()) {
                  subBuilder.mergeFrom(getAnnotationBoundary());
                }
                input.readMessage(subBuilder, extensionRegistry);
                setAnnotationBoundary(subBuilder.buildPartial());
                break;
              }
              case 18: {
                setCharacters(input.readString());
                break;
              }
              case 26: {
                org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.newBuilder();
                if (hasElementStart()) {
                  subBuilder.mergeFrom(getElementStart());
                }
                input.readMessage(subBuilder, extensionRegistry);
                setElementStart(subBuilder.buildPartial());
                break;
              }
              case 32: {
                setElementEnd(input.readBool());
                break;
              }
              case 40: {
                setRetainItemCount(input.readInt32());
                break;
              }
              case 50: {
                setDeleteCharacters(input.readString());
                break;
              }
              case 58: {
                org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.newBuilder();
                if (hasDeleteElementStart()) {
                  subBuilder.mergeFrom(getDeleteElementStart());
                }
                input.readMessage(subBuilder, extensionRegistry);
                setDeleteElementStart(subBuilder.buildPartial());
                break;
              }
              case 64: {
                setDeleteElementEnd(input.readBool());
                break;
              }
              case 74: {
                org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.newBuilder();
                if (hasReplaceAttributes()) {
                  subBuilder.mergeFrom(getReplaceAttributes());
                }
                input.readMessage(subBuilder, extensionRegistry);
                setReplaceAttributes(subBuilder.buildPartial());
                break;
              }
              case 82: {
                org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.newBuilder();
                if (hasUpdateAttributes()) {
                  subBuilder.mergeFrom(getUpdateAttributes());
                }
                input.readMessage(subBuilder, extensionRegistry);
                setUpdateAttributes(subBuilder.buildPartial());
                break;
              }
            }
          }
        }
        
        
        // optional .federation.ProtocolDocumentOperation.Component.AnnotationBoundary annotation_boundary = 1;
        public boolean hasAnnotationBoundary() {
          return result.hasAnnotationBoundary();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary getAnnotationBoundary() {
          return result.getAnnotationBoundary();
        }
        public Builder setAnnotationBoundary(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary value) {
          if (value == null) {
            throw new NullPointerException();
          }
          result.hasAnnotationBoundary = true;
          result.annotationBoundary_ = value;
          return this;
        }
        public Builder setAnnotationBoundary(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.Builder builderForValue) {
          result.hasAnnotationBoundary = true;
          result.annotationBoundary_ = builderForValue.build();
          return this;
        }
        public Builder mergeAnnotationBoundary(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary value) {
          if (result.hasAnnotationBoundary() &&
              result.annotationBoundary_ != org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.getDefaultInstance()) {
            result.annotationBoundary_ =
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.newBuilder(result.annotationBoundary_).mergeFrom(value).buildPartial();
          } else {
            result.annotationBoundary_ = value;
          }
          result.hasAnnotationBoundary = true;
          return this;
        }
        public Builder clearAnnotationBoundary() {
          result.hasAnnotationBoundary = false;
          result.annotationBoundary_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.getDefaultInstance();
          return this;
        }
        
        // optional string characters = 2;
        public boolean hasCharacters() {
          return result.hasCharacters();
        }
        public java.lang.String getCharacters() {
          return result.getCharacters();
        }
        public Builder setCharacters(java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  result.hasCharacters = true;
          result.characters_ = value;
          return this;
        }
        public Builder clearCharacters() {
          result.hasCharacters = false;
          result.characters_ = getDefaultInstance().getCharacters();
          return this;
        }
        
        // optional .federation.ProtocolDocumentOperation.Component.ElementStart element_start = 3;
        public boolean hasElementStart() {
          return result.hasElementStart();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart getElementStart() {
          return result.getElementStart();
        }
        public Builder setElementStart(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart value) {
          if (value == null) {
            throw new NullPointerException();
          }
          result.hasElementStart = true;
          result.elementStart_ = value;
          return this;
        }
        public Builder setElementStart(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.Builder builderForValue) {
          result.hasElementStart = true;
          result.elementStart_ = builderForValue.build();
          return this;
        }
        public Builder mergeElementStart(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart value) {
          if (result.hasElementStart() &&
              result.elementStart_ != org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance()) {
            result.elementStart_ =
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.newBuilder(result.elementStart_).mergeFrom(value).buildPartial();
          } else {
            result.elementStart_ = value;
          }
          result.hasElementStart = true;
          return this;
        }
        public Builder clearElementStart() {
          result.hasElementStart = false;
          result.elementStart_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance();
          return this;
        }
        
        // optional bool element_end = 4;
        public boolean hasElementEnd() {
          return result.hasElementEnd();
        }
        public boolean getElementEnd() {
          return result.getElementEnd();
        }
        public Builder setElementEnd(boolean value) {
          result.hasElementEnd = true;
          result.elementEnd_ = value;
          return this;
        }
        public Builder clearElementEnd() {
          result.hasElementEnd = false;
          result.elementEnd_ = false;
          return this;
        }
        
        // optional int32 retain_item_count = 5;
        public boolean hasRetainItemCount() {
          return result.hasRetainItemCount();
        }
        public int getRetainItemCount() {
          return result.getRetainItemCount();
        }
        public Builder setRetainItemCount(int value) {
          result.hasRetainItemCount = true;
          result.retainItemCount_ = value;
          return this;
        }
        public Builder clearRetainItemCount() {
          result.hasRetainItemCount = false;
          result.retainItemCount_ = 0;
          return this;
        }
        
        // optional string delete_characters = 6;
        public boolean hasDeleteCharacters() {
          return result.hasDeleteCharacters();
        }
        public java.lang.String getDeleteCharacters() {
          return result.getDeleteCharacters();
        }
        public Builder setDeleteCharacters(java.lang.String value) {
          if (value == null) {
    throw new NullPointerException();
  }
  result.hasDeleteCharacters = true;
          result.deleteCharacters_ = value;
          return this;
        }
        public Builder clearDeleteCharacters() {
          result.hasDeleteCharacters = false;
          result.deleteCharacters_ = getDefaultInstance().getDeleteCharacters();
          return this;
        }
        
        // optional .federation.ProtocolDocumentOperation.Component.ElementStart delete_element_start = 7;
        public boolean hasDeleteElementStart() {
          return result.hasDeleteElementStart();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart getDeleteElementStart() {
          return result.getDeleteElementStart();
        }
        public Builder setDeleteElementStart(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart value) {
          if (value == null) {
            throw new NullPointerException();
          }
          result.hasDeleteElementStart = true;
          result.deleteElementStart_ = value;
          return this;
        }
        public Builder setDeleteElementStart(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.Builder builderForValue) {
          result.hasDeleteElementStart = true;
          result.deleteElementStart_ = builderForValue.build();
          return this;
        }
        public Builder mergeDeleteElementStart(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart value) {
          if (result.hasDeleteElementStart() &&
              result.deleteElementStart_ != org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance()) {
            result.deleteElementStart_ =
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.newBuilder(result.deleteElementStart_).mergeFrom(value).buildPartial();
          } else {
            result.deleteElementStart_ = value;
          }
          result.hasDeleteElementStart = true;
          return this;
        }
        public Builder clearDeleteElementStart() {
          result.hasDeleteElementStart = false;
          result.deleteElementStart_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.getDefaultInstance();
          return this;
        }
        
        // optional bool delete_element_end = 8;
        public boolean hasDeleteElementEnd() {
          return result.hasDeleteElementEnd();
        }
        public boolean getDeleteElementEnd() {
          return result.getDeleteElementEnd();
        }
        public Builder setDeleteElementEnd(boolean value) {
          result.hasDeleteElementEnd = true;
          result.deleteElementEnd_ = value;
          return this;
        }
        public Builder clearDeleteElementEnd() {
          result.hasDeleteElementEnd = false;
          result.deleteElementEnd_ = false;
          return this;
        }
        
        // optional .federation.ProtocolDocumentOperation.Component.ReplaceAttributes replace_attributes = 9;
        public boolean hasReplaceAttributes() {
          return result.hasReplaceAttributes();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes getReplaceAttributes() {
          return result.getReplaceAttributes();
        }
        public Builder setReplaceAttributes(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes value) {
          if (value == null) {
            throw new NullPointerException();
          }
          result.hasReplaceAttributes = true;
          result.replaceAttributes_ = value;
          return this;
        }
        public Builder setReplaceAttributes(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.Builder builderForValue) {
          result.hasReplaceAttributes = true;
          result.replaceAttributes_ = builderForValue.build();
          return this;
        }
        public Builder mergeReplaceAttributes(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes value) {
          if (result.hasReplaceAttributes() &&
              result.replaceAttributes_ != org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.getDefaultInstance()) {
            result.replaceAttributes_ =
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.newBuilder(result.replaceAttributes_).mergeFrom(value).buildPartial();
          } else {
            result.replaceAttributes_ = value;
          }
          result.hasReplaceAttributes = true;
          return this;
        }
        public Builder clearReplaceAttributes() {
          result.hasReplaceAttributes = false;
          result.replaceAttributes_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.getDefaultInstance();
          return this;
        }
        
        // optional .federation.ProtocolDocumentOperation.Component.UpdateAttributes update_attributes = 10;
        public boolean hasUpdateAttributes() {
          return result.hasUpdateAttributes();
        }
        public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes getUpdateAttributes() {
          return result.getUpdateAttributes();
        }
        public Builder setUpdateAttributes(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes value) {
          if (value == null) {
            throw new NullPointerException();
          }
          result.hasUpdateAttributes = true;
          result.updateAttributes_ = value;
          return this;
        }
        public Builder setUpdateAttributes(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.Builder builderForValue) {
          result.hasUpdateAttributes = true;
          result.updateAttributes_ = builderForValue.build();
          return this;
        }
        public Builder mergeUpdateAttributes(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes value) {
          if (result.hasUpdateAttributes() &&
              result.updateAttributes_ != org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.getDefaultInstance()) {
            result.updateAttributes_ =
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.newBuilder(result.updateAttributes_).mergeFrom(value).buildPartial();
          } else {
            result.updateAttributes_ = value;
          }
          result.hasUpdateAttributes = true;
          return this;
        }
        public Builder clearUpdateAttributes() {
          result.hasUpdateAttributes = false;
          result.updateAttributes_ = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.getDefaultInstance();
          return this;
        }
        
        // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation.Component)
      }
      
      static {
        defaultInstance = new Component(true);
        org.waveprotocol.wave.federation.Proto.internalForceInit();
        defaultInstance.initFields();
      }
      
      // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation.Component)
    }
    
    // repeated .federation.ProtocolDocumentOperation.Component component = 1;
    public static final int COMPONENT_FIELD_NUMBER = 1;
    private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component> component_ =
      java.util.Collections.emptyList();
    public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component> getComponentList() {
      return component_;
    }
    public int getComponentCount() { return component_.size(); }
    public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component getComponent(int index) {
      return component_.get(index);
    }
    
    private void initFields() {
    }
    public final boolean isInitialized() {
      for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component element : getComponentList()) {
        if (!element.isInitialized()) return false;
      }
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component element : getComponentList()) {
        output.writeMessage(1, element);
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      for (org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component element : getComponentList()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, element);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        if (result.component_ != java.util.Collections.EMPTY_LIST) {
          result.component_ =
            java.util.Collections.unmodifiableList(result.component_);
        }
        org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.getDefaultInstance()) return this;
        if (!other.component_.isEmpty()) {
          if (result.component_.isEmpty()) {
            result.component_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component>();
          }
          result.component_.addAll(other.component_);
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.newBuilder();
              input.readMessage(subBuilder, extensionRegistry);
              addComponent(subBuilder.buildPartial());
              break;
            }
          }
        }
      }
      
      
      // repeated .federation.ProtocolDocumentOperation.Component component = 1;
      public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component> getComponentList() {
        return java.util.Collections.unmodifiableList(result.component_);
      }
      public int getComponentCount() {
        return result.getComponentCount();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component getComponent(int index) {
        return result.getComponent(index);
      }
      public Builder setComponent(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.component_.set(index, value);
        return this;
      }
      public Builder setComponent(int index, org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.Builder builderForValue) {
        result.component_.set(index, builderForValue.build());
        return this;
      }
      public Builder addComponent(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component value) {
        if (value == null) {
          throw new NullPointerException();
        }
        if (result.component_.isEmpty()) {
          result.component_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component>();
        }
        result.component_.add(value);
        return this;
      }
      public Builder addComponent(org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.Builder builderForValue) {
        if (result.component_.isEmpty()) {
          result.component_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component>();
        }
        result.component_.add(builderForValue.build());
        return this;
      }
      public Builder addAllComponent(
          java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component> values) {
        if (result.component_.isEmpty()) {
          result.component_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component>();
        }
        super.addAll(values, result.component_);
        return this;
      }
      public Builder clearComponent() {
        result.component_ = java.util.Collections.emptyList();
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolDocumentOperation)
    }
    
    static {
      defaultInstance = new ProtocolDocumentOperation(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolDocumentOperation)
  }
  
  public static final class ProtocolAppliedWaveletDelta extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolAppliedWaveletDelta.newBuilder() to construct.
    private ProtocolAppliedWaveletDelta() {
      initFields();
    }
    private ProtocolAppliedWaveletDelta(boolean noInit) {}
    
    private static final ProtocolAppliedWaveletDelta defaultInstance;
    public static ProtocolAppliedWaveletDelta getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolAppliedWaveletDelta getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolAppliedWaveletDelta_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolAppliedWaveletDelta_fieldAccessorTable;
    }
    
    // required .federation.ProtocolSignedDelta signed_original_delta = 1;
    public static final int SIGNED_ORIGINAL_DELTA_FIELD_NUMBER = 1;
    private boolean hasSignedOriginalDelta;
    private org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta signedOriginalDelta_;
    public boolean hasSignedOriginalDelta() { return hasSignedOriginalDelta; }
    public org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta getSignedOriginalDelta() { return signedOriginalDelta_; }
    
    // optional .federation.ProtocolHashedVersion hashed_version_applied_at = 2;
    public static final int HASHED_VERSION_APPLIED_AT_FIELD_NUMBER = 2;
    private boolean hasHashedVersionAppliedAt;
    private org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion hashedVersionAppliedAt_;
    public boolean hasHashedVersionAppliedAt() { return hasHashedVersionAppliedAt; }
    public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersionAppliedAt() { return hashedVersionAppliedAt_; }
    
    // required int32 operations_applied = 3;
    public static final int OPERATIONS_APPLIED_FIELD_NUMBER = 3;
    private boolean hasOperationsApplied;
    private int operationsApplied_ = 0;
    public boolean hasOperationsApplied() { return hasOperationsApplied; }
    public int getOperationsApplied() { return operationsApplied_; }
    
    // required int64 application_timestamp = 4;
    public static final int APPLICATION_TIMESTAMP_FIELD_NUMBER = 4;
    private boolean hasApplicationTimestamp;
    private long applicationTimestamp_ = 0L;
    public boolean hasApplicationTimestamp() { return hasApplicationTimestamp; }
    public long getApplicationTimestamp() { return applicationTimestamp_; }
    
    private void initFields() {
      signedOriginalDelta_ = org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.getDefaultInstance();
      hashedVersionAppliedAt_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
    }
    public final boolean isInitialized() {
      if (!hasSignedOriginalDelta) return false;
      if (!hasOperationsApplied) return false;
      if (!hasApplicationTimestamp) return false;
      if (!getSignedOriginalDelta().isInitialized()) return false;
      if (hasHashedVersionAppliedAt()) {
        if (!getHashedVersionAppliedAt().isInitialized()) return false;
      }
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasSignedOriginalDelta()) {
        output.writeMessage(1, getSignedOriginalDelta());
      }
      if (hasHashedVersionAppliedAt()) {
        output.writeMessage(2, getHashedVersionAppliedAt());
      }
      if (hasOperationsApplied()) {
        output.writeInt32(3, getOperationsApplied());
      }
      if (hasApplicationTimestamp()) {
        output.writeInt64(4, getApplicationTimestamp());
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasSignedOriginalDelta()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(1, getSignedOriginalDelta());
      }
      if (hasHashedVersionAppliedAt()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, getHashedVersionAppliedAt());
      }
      if (hasOperationsApplied()) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt32Size(3, getOperationsApplied());
      }
      if (hasApplicationTimestamp()) {
        size += com.google.protobuf.CodedOutputStream
          .computeInt64Size(4, getApplicationTimestamp());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta.getDefaultInstance()) return this;
        if (other.hasSignedOriginalDelta()) {
          mergeSignedOriginalDelta(other.getSignedOriginalDelta());
        }
        if (other.hasHashedVersionAppliedAt()) {
          mergeHashedVersionAppliedAt(other.getHashedVersionAppliedAt());
        }
        if (other.hasOperationsApplied()) {
          setOperationsApplied(other.getOperationsApplied());
        }
        if (other.hasApplicationTimestamp()) {
          setApplicationTimestamp(other.getApplicationTimestamp());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 10: {
              org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.newBuilder();
              if (hasSignedOriginalDelta()) {
                subBuilder.mergeFrom(getSignedOriginalDelta());
              }
              input.readMessage(subBuilder, extensionRegistry);
              setSignedOriginalDelta(subBuilder.buildPartial());
              break;
            }
            case 18: {
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder();
              if (hasHashedVersionAppliedAt()) {
                subBuilder.mergeFrom(getHashedVersionAppliedAt());
              }
              input.readMessage(subBuilder, extensionRegistry);
              setHashedVersionAppliedAt(subBuilder.buildPartial());
              break;
            }
            case 24: {
              setOperationsApplied(input.readInt32());
              break;
            }
            case 32: {
              setApplicationTimestamp(input.readInt64());
              break;
            }
          }
        }
      }
      
      
      // required .federation.ProtocolSignedDelta signed_original_delta = 1;
      public boolean hasSignedOriginalDelta() {
        return result.hasSignedOriginalDelta();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta getSignedOriginalDelta() {
        return result.getSignedOriginalDelta();
      }
      public Builder setSignedOriginalDelta(org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.hasSignedOriginalDelta = true;
        result.signedOriginalDelta_ = value;
        return this;
      }
      public Builder setSignedOriginalDelta(org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.Builder builderForValue) {
        result.hasSignedOriginalDelta = true;
        result.signedOriginalDelta_ = builderForValue.build();
        return this;
      }
      public Builder mergeSignedOriginalDelta(org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta value) {
        if (result.hasSignedOriginalDelta() &&
            result.signedOriginalDelta_ != org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.getDefaultInstance()) {
          result.signedOriginalDelta_ =
            org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.newBuilder(result.signedOriginalDelta_).mergeFrom(value).buildPartial();
        } else {
          result.signedOriginalDelta_ = value;
        }
        result.hasSignedOriginalDelta = true;
        return this;
      }
      public Builder clearSignedOriginalDelta() {
        result.hasSignedOriginalDelta = false;
        result.signedOriginalDelta_ = org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.getDefaultInstance();
        return this;
      }
      
      // optional .federation.ProtocolHashedVersion hashed_version_applied_at = 2;
      public boolean hasHashedVersionAppliedAt() {
        return result.hasHashedVersionAppliedAt();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion getHashedVersionAppliedAt() {
        return result.getHashedVersionAppliedAt();
      }
      public Builder setHashedVersionAppliedAt(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.hasHashedVersionAppliedAt = true;
        result.hashedVersionAppliedAt_ = value;
        return this;
      }
      public Builder setHashedVersionAppliedAt(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder builderForValue) {
        result.hasHashedVersionAppliedAt = true;
        result.hashedVersionAppliedAt_ = builderForValue.build();
        return this;
      }
      public Builder mergeHashedVersionAppliedAt(org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion value) {
        if (result.hasHashedVersionAppliedAt() &&
            result.hashedVersionAppliedAt_ != org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance()) {
          result.hashedVersionAppliedAt_ =
            org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.newBuilder(result.hashedVersionAppliedAt_).mergeFrom(value).buildPartial();
        } else {
          result.hashedVersionAppliedAt_ = value;
        }
        result.hasHashedVersionAppliedAt = true;
        return this;
      }
      public Builder clearHashedVersionAppliedAt() {
        result.hasHashedVersionAppliedAt = false;
        result.hashedVersionAppliedAt_ = org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.getDefaultInstance();
        return this;
      }
      
      // required int32 operations_applied = 3;
      public boolean hasOperationsApplied() {
        return result.hasOperationsApplied();
      }
      public int getOperationsApplied() {
        return result.getOperationsApplied();
      }
      public Builder setOperationsApplied(int value) {
        result.hasOperationsApplied = true;
        result.operationsApplied_ = value;
        return this;
      }
      public Builder clearOperationsApplied() {
        result.hasOperationsApplied = false;
        result.operationsApplied_ = 0;
        return this;
      }
      
      // required int64 application_timestamp = 4;
      public boolean hasApplicationTimestamp() {
        return result.hasApplicationTimestamp();
      }
      public long getApplicationTimestamp() {
        return result.getApplicationTimestamp();
      }
      public Builder setApplicationTimestamp(long value) {
        result.hasApplicationTimestamp = true;
        result.applicationTimestamp_ = value;
        return this;
      }
      public Builder clearApplicationTimestamp() {
        result.hasApplicationTimestamp = false;
        result.applicationTimestamp_ = 0L;
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolAppliedWaveletDelta)
    }
    
    static {
      defaultInstance = new ProtocolAppliedWaveletDelta(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolAppliedWaveletDelta)
  }
  
  public static final class ProtocolSignedDelta extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolSignedDelta.newBuilder() to construct.
    private ProtocolSignedDelta() {
      initFields();
    }
    private ProtocolSignedDelta(boolean noInit) {}
    
    private static final ProtocolSignedDelta defaultInstance;
    public static ProtocolSignedDelta getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolSignedDelta getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolSignedDelta_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolSignedDelta_fieldAccessorTable;
    }
    
    // required bytes delta = 1;
    public static final int DELTA_FIELD_NUMBER = 1;
    private boolean hasDelta;
    private com.google.protobuf.ByteString delta_ = com.google.protobuf.ByteString.EMPTY;
    public boolean hasDelta() { return hasDelta; }
    public com.google.protobuf.ByteString getDelta() { return delta_; }
    
    // repeated .federation.ProtocolSignature signature = 2;
    public static final int SIGNATURE_FIELD_NUMBER = 2;
    private java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolSignature> signature_ =
      java.util.Collections.emptyList();
    public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolSignature> getSignatureList() {
      return signature_;
    }
    public int getSignatureCount() { return signature_.size(); }
    public org.waveprotocol.wave.federation.Proto.ProtocolSignature getSignature(int index) {
      return signature_.get(index);
    }
    
    private void initFields() {
    }
    public final boolean isInitialized() {
      if (!hasDelta) return false;
      for (org.waveprotocol.wave.federation.Proto.ProtocolSignature element : getSignatureList()) {
        if (!element.isInitialized()) return false;
      }
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasDelta()) {
        output.writeBytes(1, getDelta());
      }
      for (org.waveprotocol.wave.federation.Proto.ProtocolSignature element : getSignatureList()) {
        output.writeMessage(2, element);
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasDelta()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getDelta());
      }
      for (org.waveprotocol.wave.federation.Proto.ProtocolSignature element : getSignatureList()) {
        size += com.google.protobuf.CodedOutputStream
          .computeMessageSize(2, element);
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        if (result.signature_ != java.util.Collections.EMPTY_LIST) {
          result.signature_ =
            java.util.Collections.unmodifiableList(result.signature_);
        }
        org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.getDefaultInstance()) return this;
        if (other.hasDelta()) {
          setDelta(other.getDelta());
        }
        if (!other.signature_.isEmpty()) {
          if (result.signature_.isEmpty()) {
            result.signature_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolSignature>();
          }
          result.signature_.addAll(other.signature_);
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 10: {
              setDelta(input.readBytes());
              break;
            }
            case 18: {
              org.waveprotocol.wave.federation.Proto.ProtocolSignature.Builder subBuilder = org.waveprotocol.wave.federation.Proto.ProtocolSignature.newBuilder();
              input.readMessage(subBuilder, extensionRegistry);
              addSignature(subBuilder.buildPartial());
              break;
            }
          }
        }
      }
      
      
      // required bytes delta = 1;
      public boolean hasDelta() {
        return result.hasDelta();
      }
      public com.google.protobuf.ByteString getDelta() {
        return result.getDelta();
      }
      public Builder setDelta(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasDelta = true;
        result.delta_ = value;
        return this;
      }
      public Builder clearDelta() {
        result.hasDelta = false;
        result.delta_ = getDefaultInstance().getDelta();
        return this;
      }
      
      // repeated .federation.ProtocolSignature signature = 2;
      public java.util.List<org.waveprotocol.wave.federation.Proto.ProtocolSignature> getSignatureList() {
        return java.util.Collections.unmodifiableList(result.signature_);
      }
      public int getSignatureCount() {
        return result.getSignatureCount();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignature getSignature(int index) {
        return result.getSignature(index);
      }
      public Builder setSignature(int index, org.waveprotocol.wave.federation.Proto.ProtocolSignature value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.signature_.set(index, value);
        return this;
      }
      public Builder setSignature(int index, org.waveprotocol.wave.federation.Proto.ProtocolSignature.Builder builderForValue) {
        result.signature_.set(index, builderForValue.build());
        return this;
      }
      public Builder addSignature(org.waveprotocol.wave.federation.Proto.ProtocolSignature value) {
        if (value == null) {
          throw new NullPointerException();
        }
        if (result.signature_.isEmpty()) {
          result.signature_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolSignature>();
        }
        result.signature_.add(value);
        return this;
      }
      public Builder addSignature(org.waveprotocol.wave.federation.Proto.ProtocolSignature.Builder builderForValue) {
        if (result.signature_.isEmpty()) {
          result.signature_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolSignature>();
        }
        result.signature_.add(builderForValue.build());
        return this;
      }
      public Builder addAllSignature(
          java.lang.Iterable<? extends org.waveprotocol.wave.federation.Proto.ProtocolSignature> values) {
        if (result.signature_.isEmpty()) {
          result.signature_ = new java.util.ArrayList<org.waveprotocol.wave.federation.Proto.ProtocolSignature>();
        }
        super.addAll(values, result.signature_);
        return this;
      }
      public Builder clearSignature() {
        result.signature_ = java.util.Collections.emptyList();
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolSignedDelta)
    }
    
    static {
      defaultInstance = new ProtocolSignedDelta(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolSignedDelta)
  }
  
  public static final class ProtocolSignature extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolSignature.newBuilder() to construct.
    private ProtocolSignature() {
      initFields();
    }
    private ProtocolSignature(boolean noInit) {}
    
    private static final ProtocolSignature defaultInstance;
    public static ProtocolSignature getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolSignature getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolSignature_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolSignature_fieldAccessorTable;
    }
    
    public enum SignatureAlgorithm
        implements com.google.protobuf.ProtocolMessageEnum {
      SHA1_RSA(0, 1),
      ;
      
      
      public final int getNumber() { return value; }
      
      public static SignatureAlgorithm valueOf(int value) {
        switch (value) {
          case 1: return SHA1_RSA;
          default: return null;
        }
      }
      
      public static com.google.protobuf.Internal.EnumLiteMap<SignatureAlgorithm>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static com.google.protobuf.Internal.EnumLiteMap<SignatureAlgorithm>
          internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<SignatureAlgorithm>() {
              public SignatureAlgorithm findValueByNumber(int number) {
                return SignatureAlgorithm.valueOf(number)
      ;        }
            };
      
      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        return getDescriptor().getValues().get(index);
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignature.getDescriptor().getEnumTypes().get(0);
      }
      
      private static final SignatureAlgorithm[] VALUES = {
        SHA1_RSA, 
      };
      public static SignatureAlgorithm valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        return VALUES[desc.getIndex()];
      }
      private final int index;
      private final int value;
      private SignatureAlgorithm(int index, int value) {
        this.index = index;
        this.value = value;
      }
      
      static {
        org.waveprotocol.wave.federation.Proto.getDescriptor();
      }
      
      // @@protoc_insertion_point(enum_scope:federation.ProtocolSignature.SignatureAlgorithm)
    }
    
    // required bytes signature_bytes = 1;
    public static final int SIGNATURE_BYTES_FIELD_NUMBER = 1;
    private boolean hasSignatureBytes;
    private com.google.protobuf.ByteString signatureBytes_ = com.google.protobuf.ByteString.EMPTY;
    public boolean hasSignatureBytes() { return hasSignatureBytes; }
    public com.google.protobuf.ByteString getSignatureBytes() { return signatureBytes_; }
    
    // required bytes signer_id = 2;
    public static final int SIGNER_ID_FIELD_NUMBER = 2;
    private boolean hasSignerId;
    private com.google.protobuf.ByteString signerId_ = com.google.protobuf.ByteString.EMPTY;
    public boolean hasSignerId() { return hasSignerId; }
    public com.google.protobuf.ByteString getSignerId() { return signerId_; }
    
    // required .federation.ProtocolSignature.SignatureAlgorithm signature_algorithm = 3;
    public static final int SIGNATURE_ALGORITHM_FIELD_NUMBER = 3;
    private boolean hasSignatureAlgorithm;
    private org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm signatureAlgorithm_;
    public boolean hasSignatureAlgorithm() { return hasSignatureAlgorithm; }
    public org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm getSignatureAlgorithm() { return signatureAlgorithm_; }
    
    private void initFields() {
      signatureAlgorithm_ = org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm.SHA1_RSA;
    }
    public final boolean isInitialized() {
      if (!hasSignatureBytes) return false;
      if (!hasSignerId) return false;
      if (!hasSignatureAlgorithm) return false;
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasSignatureBytes()) {
        output.writeBytes(1, getSignatureBytes());
      }
      if (hasSignerId()) {
        output.writeBytes(2, getSignerId());
      }
      if (hasSignatureAlgorithm()) {
        output.writeEnum(3, getSignatureAlgorithm().getNumber());
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasSignatureBytes()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(1, getSignatureBytes());
      }
      if (hasSignerId()) {
        size += com.google.protobuf.CodedOutputStream
          .computeBytesSize(2, getSignerId());
      }
      if (hasSignatureAlgorithm()) {
        size += com.google.protobuf.CodedOutputStream
          .computeEnumSize(3, getSignatureAlgorithm().getNumber());
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignature parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolSignature prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolSignature result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolSignature.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolSignature();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolSignature internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolSignature();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignature.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolSignature getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignature.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignature build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolSignature buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolSignature buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        org.waveprotocol.wave.federation.Proto.ProtocolSignature returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolSignature) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolSignature)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolSignature other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolSignature.getDefaultInstance()) return this;
        if (other.hasSignatureBytes()) {
          setSignatureBytes(other.getSignatureBytes());
        }
        if (other.hasSignerId()) {
          setSignerId(other.getSignerId());
        }
        if (other.hasSignatureAlgorithm()) {
          setSignatureAlgorithm(other.getSignatureAlgorithm());
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 10: {
              setSignatureBytes(input.readBytes());
              break;
            }
            case 18: {
              setSignerId(input.readBytes());
              break;
            }
            case 24: {
              int rawValue = input.readEnum();
              org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm value = org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm.valueOf(rawValue);
              if (value == null) {
                unknownFields.mergeVarintField(3, rawValue);
              } else {
                setSignatureAlgorithm(value);
              }
              break;
            }
          }
        }
      }
      
      
      // required bytes signature_bytes = 1;
      public boolean hasSignatureBytes() {
        return result.hasSignatureBytes();
      }
      public com.google.protobuf.ByteString getSignatureBytes() {
        return result.getSignatureBytes();
      }
      public Builder setSignatureBytes(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasSignatureBytes = true;
        result.signatureBytes_ = value;
        return this;
      }
      public Builder clearSignatureBytes() {
        result.hasSignatureBytes = false;
        result.signatureBytes_ = getDefaultInstance().getSignatureBytes();
        return this;
      }
      
      // required bytes signer_id = 2;
      public boolean hasSignerId() {
        return result.hasSignerId();
      }
      public com.google.protobuf.ByteString getSignerId() {
        return result.getSignerId();
      }
      public Builder setSignerId(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasSignerId = true;
        result.signerId_ = value;
        return this;
      }
      public Builder clearSignerId() {
        result.hasSignerId = false;
        result.signerId_ = getDefaultInstance().getSignerId();
        return this;
      }
      
      // required .federation.ProtocolSignature.SignatureAlgorithm signature_algorithm = 3;
      public boolean hasSignatureAlgorithm() {
        return result.hasSignatureAlgorithm();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm getSignatureAlgorithm() {
        return result.getSignatureAlgorithm();
      }
      public Builder setSignatureAlgorithm(org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.hasSignatureAlgorithm = true;
        result.signatureAlgorithm_ = value;
        return this;
      }
      public Builder clearSignatureAlgorithm() {
        result.hasSignatureAlgorithm = false;
        result.signatureAlgorithm_ = org.waveprotocol.wave.federation.Proto.ProtocolSignature.SignatureAlgorithm.SHA1_RSA;
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolSignature)
    }
    
    static {
      defaultInstance = new ProtocolSignature(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolSignature)
  }
  
  public static final class ProtocolSignerInfo extends
      com.google.protobuf.GeneratedMessage {
    // Use ProtocolSignerInfo.newBuilder() to construct.
    private ProtocolSignerInfo() {
      initFields();
    }
    private ProtocolSignerInfo(boolean noInit) {}
    
    private static final ProtocolSignerInfo defaultInstance;
    public static ProtocolSignerInfo getDefaultInstance() {
      return defaultInstance;
    }
    
    public ProtocolSignerInfo getDefaultInstanceForType() {
      return defaultInstance;
    }
    
    public static final com.google.protobuf.Descriptors.Descriptor
        getDescriptor() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolSignerInfo_descriptor;
    }
    
    protected com.google.protobuf.GeneratedMessage.FieldAccessorTable
        internalGetFieldAccessorTable() {
      return org.waveprotocol.wave.federation.Proto.internal_static_federation_ProtocolSignerInfo_fieldAccessorTable;
    }
    
    public enum HashAlgorithm
        implements com.google.protobuf.ProtocolMessageEnum {
      SHA256(0, 1),
      SHA512(1, 2),
      ;
      
      
      public final int getNumber() { return value; }
      
      public static HashAlgorithm valueOf(int value) {
        switch (value) {
          case 1: return SHA256;
          case 2: return SHA512;
          default: return null;
        }
      }
      
      public static com.google.protobuf.Internal.EnumLiteMap<HashAlgorithm>
          internalGetValueMap() {
        return internalValueMap;
      }
      private static com.google.protobuf.Internal.EnumLiteMap<HashAlgorithm>
          internalValueMap =
            new com.google.protobuf.Internal.EnumLiteMap<HashAlgorithm>() {
              public HashAlgorithm findValueByNumber(int number) {
                return HashAlgorithm.valueOf(number)
      ;        }
            };
      
      public final com.google.protobuf.Descriptors.EnumValueDescriptor
          getValueDescriptor() {
        return getDescriptor().getValues().get(index);
      }
      public final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptorForType() {
        return getDescriptor();
      }
      public static final com.google.protobuf.Descriptors.EnumDescriptor
          getDescriptor() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.getDescriptor().getEnumTypes().get(0);
      }
      
      private static final HashAlgorithm[] VALUES = {
        SHA256, SHA512, 
      };
      public static HashAlgorithm valueOf(
          com.google.protobuf.Descriptors.EnumValueDescriptor desc) {
        if (desc.getType() != getDescriptor()) {
          throw new java.lang.IllegalArgumentException(
            "EnumValueDescriptor is not for this type.");
        }
        return VALUES[desc.getIndex()];
      }
      private final int index;
      private final int value;
      private HashAlgorithm(int index, int value) {
        this.index = index;
        this.value = value;
      }
      
      static {
        org.waveprotocol.wave.federation.Proto.getDescriptor();
      }
      
      // @@protoc_insertion_point(enum_scope:federation.ProtocolSignerInfo.HashAlgorithm)
    }
    
    // required .federation.ProtocolSignerInfo.HashAlgorithm hash_algorithm = 1;
    public static final int HASH_ALGORITHM_FIELD_NUMBER = 1;
    private boolean hasHashAlgorithm;
    private org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm hashAlgorithm_;
    public boolean hasHashAlgorithm() { return hasHashAlgorithm; }
    public org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm getHashAlgorithm() { return hashAlgorithm_; }
    
    // required string domain = 2;
    public static final int DOMAIN_FIELD_NUMBER = 2;
    private boolean hasDomain;
    private java.lang.String domain_ = "";
    public boolean hasDomain() { return hasDomain; }
    public java.lang.String getDomain() { return domain_; }
    
    // repeated bytes certificate = 3;
    public static final int CERTIFICATE_FIELD_NUMBER = 3;
    private java.util.List<com.google.protobuf.ByteString> certificate_ =
      java.util.Collections.emptyList();
    public java.util.List<com.google.protobuf.ByteString> getCertificateList() {
      return certificate_;
    }
    public int getCertificateCount() { return certificate_.size(); }
    public com.google.protobuf.ByteString getCertificate(int index) {
      return certificate_.get(index);
    }
    
    private void initFields() {
      hashAlgorithm_ = org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm.SHA256;
    }
    public final boolean isInitialized() {
      if (!hasHashAlgorithm) return false;
      if (!hasDomain) return false;
      return true;
    }
    
    public void writeTo(com.google.protobuf.CodedOutputStream output)
                        throws java.io.IOException {
      getSerializedSize();
      if (hasHashAlgorithm()) {
        output.writeEnum(1, getHashAlgorithm().getNumber());
      }
      if (hasDomain()) {
        output.writeString(2, getDomain());
      }
      for (com.google.protobuf.ByteString element : getCertificateList()) {
        output.writeBytes(3, element);
      }
      getUnknownFields().writeTo(output);
    }
    
    private int memoizedSerializedSize = -1;
    public int getSerializedSize() {
      int size = memoizedSerializedSize;
      if (size != -1) return size;
    
      size = 0;
      if (hasHashAlgorithm()) {
        size += com.google.protobuf.CodedOutputStream
          .computeEnumSize(1, getHashAlgorithm().getNumber());
      }
      if (hasDomain()) {
        size += com.google.protobuf.CodedOutputStream
          .computeStringSize(2, getDomain());
      }
      {
        int dataSize = 0;
        for (com.google.protobuf.ByteString element : getCertificateList()) {
          dataSize += com.google.protobuf.CodedOutputStream
            .computeBytesSizeNoTag(element);
        }
        size += dataSize;
        size += 1 * getCertificateList().size();
      }
      size += getUnknownFields().getSerializedSize();
      memoizedSerializedSize = size;
      return size;
    }
    
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(
        com.google.protobuf.ByteString data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(
        com.google.protobuf.ByteString data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(byte[] data)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(
        byte[] data,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws com.google.protobuf.InvalidProtocolBufferException {
      return newBuilder().mergeFrom(data, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(java.io.InputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseDelimitedFrom(java.io.InputStream input)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseDelimitedFrom(
        java.io.InputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      Builder builder = newBuilder();
      if (builder.mergeDelimitedFrom(input, extensionRegistry)) {
        return builder.buildParsed();
      } else {
        return null;
      }
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(
        com.google.protobuf.CodedInputStream input)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input).buildParsed();
    }
    public static org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo parseFrom(
        com.google.protobuf.CodedInputStream input,
        com.google.protobuf.ExtensionRegistryLite extensionRegistry)
        throws java.io.IOException {
      return newBuilder().mergeFrom(input, extensionRegistry)
               .buildParsed();
    }
    
    public static Builder newBuilder() { return Builder.create(); }
    public Builder newBuilderForType() { return newBuilder(); }
    public static Builder newBuilder(org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo prototype) {
      return newBuilder().mergeFrom(prototype);
    }
    public Builder toBuilder() { return newBuilder(this); }
    
    public static final class Builder extends
        com.google.protobuf.GeneratedMessage.Builder<Builder> {
      private org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo result;
      
      // Construct using org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.newBuilder()
      private Builder() {}
      
      private static Builder create() {
        Builder builder = new Builder();
        builder.result = new org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo();
        return builder;
      }
      
      protected org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo internalGetResult() {
        return result;
      }
      
      public Builder clear() {
        if (result == null) {
          throw new IllegalStateException(
            "Cannot call clear() after build().");
        }
        result = new org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo();
        return this;
      }
      
      public Builder clone() {
        return create().mergeFrom(result);
      }
      
      public com.google.protobuf.Descriptors.Descriptor
          getDescriptorForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.getDescriptor();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo getDefaultInstanceForType() {
        return org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.getDefaultInstance();
      }
      
      public boolean isInitialized() {
        return result.isInitialized();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo build() {
        if (result != null && !isInitialized()) {
          throw newUninitializedMessageException(result);
        }
        return buildPartial();
      }
      
      private org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo buildParsed()
          throws com.google.protobuf.InvalidProtocolBufferException {
        if (!isInitialized()) {
          throw newUninitializedMessageException(
            result).asInvalidProtocolBufferException();
        }
        return buildPartial();
      }
      
      public org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo buildPartial() {
        if (result == null) {
          throw new IllegalStateException(
            "build() has already been called on this Builder.");
        }
        if (result.certificate_ != java.util.Collections.EMPTY_LIST) {
          result.certificate_ =
            java.util.Collections.unmodifiableList(result.certificate_);
        }
        org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo returnMe = result;
        result = null;
        return returnMe;
      }
      
      public Builder mergeFrom(com.google.protobuf.Message other) {
        if (other instanceof org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo) {
          return mergeFrom((org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo)other);
        } else {
          super.mergeFrom(other);
          return this;
        }
      }
      
      public Builder mergeFrom(org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo other) {
        if (other == org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.getDefaultInstance()) return this;
        if (other.hasHashAlgorithm()) {
          setHashAlgorithm(other.getHashAlgorithm());
        }
        if (other.hasDomain()) {
          setDomain(other.getDomain());
        }
        if (!other.certificate_.isEmpty()) {
          if (result.certificate_.isEmpty()) {
            result.certificate_ = new java.util.ArrayList<com.google.protobuf.ByteString>();
          }
          result.certificate_.addAll(other.certificate_);
        }
        this.mergeUnknownFields(other.getUnknownFields());
        return this;
      }
      
      public Builder mergeFrom(
          com.google.protobuf.CodedInputStream input,
          com.google.protobuf.ExtensionRegistryLite extensionRegistry)
          throws java.io.IOException {
        com.google.protobuf.UnknownFieldSet.Builder unknownFields =
          com.google.protobuf.UnknownFieldSet.newBuilder(
            this.getUnknownFields());
        while (true) {
          int tag = input.readTag();
          switch (tag) {
            case 0:
              this.setUnknownFields(unknownFields.build());
              return this;
            default: {
              if (!parseUnknownField(input, unknownFields,
                                     extensionRegistry, tag)) {
                this.setUnknownFields(unknownFields.build());
                return this;
              }
              break;
            }
            case 8: {
              int rawValue = input.readEnum();
              org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm value = org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm.valueOf(rawValue);
              if (value == null) {
                unknownFields.mergeVarintField(1, rawValue);
              } else {
                setHashAlgorithm(value);
              }
              break;
            }
            case 18: {
              setDomain(input.readString());
              break;
            }
            case 26: {
              addCertificate(input.readBytes());
              break;
            }
          }
        }
      }
      
      
      // required .federation.ProtocolSignerInfo.HashAlgorithm hash_algorithm = 1;
      public boolean hasHashAlgorithm() {
        return result.hasHashAlgorithm();
      }
      public org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm getHashAlgorithm() {
        return result.getHashAlgorithm();
      }
      public Builder setHashAlgorithm(org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm value) {
        if (value == null) {
          throw new NullPointerException();
        }
        result.hasHashAlgorithm = true;
        result.hashAlgorithm_ = value;
        return this;
      }
      public Builder clearHashAlgorithm() {
        result.hasHashAlgorithm = false;
        result.hashAlgorithm_ = org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.HashAlgorithm.SHA256;
        return this;
      }
      
      // required string domain = 2;
      public boolean hasDomain() {
        return result.hasDomain();
      }
      public java.lang.String getDomain() {
        return result.getDomain();
      }
      public Builder setDomain(java.lang.String value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.hasDomain = true;
        result.domain_ = value;
        return this;
      }
      public Builder clearDomain() {
        result.hasDomain = false;
        result.domain_ = getDefaultInstance().getDomain();
        return this;
      }
      
      // repeated bytes certificate = 3;
      public java.util.List<com.google.protobuf.ByteString> getCertificateList() {
        return java.util.Collections.unmodifiableList(result.certificate_);
      }
      public int getCertificateCount() {
        return result.getCertificateCount();
      }
      public com.google.protobuf.ByteString getCertificate(int index) {
        return result.getCertificate(index);
      }
      public Builder setCertificate(int index, com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  result.certificate_.set(index, value);
        return this;
      }
      public Builder addCertificate(com.google.protobuf.ByteString value) {
        if (value == null) {
    throw new NullPointerException();
  }
  if (result.certificate_.isEmpty()) {
          result.certificate_ = new java.util.ArrayList<com.google.protobuf.ByteString>();
        }
        result.certificate_.add(value);
        return this;
      }
      public Builder addAllCertificate(
          java.lang.Iterable<? extends com.google.protobuf.ByteString> values) {
        if (result.certificate_.isEmpty()) {
          result.certificate_ = new java.util.ArrayList<com.google.protobuf.ByteString>();
        }
        super.addAll(values, result.certificate_);
        return this;
      }
      public Builder clearCertificate() {
        result.certificate_ = java.util.Collections.emptyList();
        return this;
      }
      
      // @@protoc_insertion_point(builder_scope:federation.ProtocolSignerInfo)
    }
    
    static {
      defaultInstance = new ProtocolSignerInfo(true);
      org.waveprotocol.wave.federation.Proto.internalForceInit();
      defaultInstance.initFields();
    }
    
    // @@protoc_insertion_point(class_scope:federation.ProtocolSignerInfo)
  }
  
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolWaveletDelta_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolWaveletDelta_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolHashedVersion_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolHashedVersion_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolWaveletOperation_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolWaveletOperation_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolWaveletOperation_MutateDocument_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolWaveletOperation_MutateDocument_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolAppliedWaveletDelta_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolAppliedWaveletDelta_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolSignedDelta_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolSignedDelta_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolSignature_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolSignature_fieldAccessorTable;
  private static com.google.protobuf.Descriptors.Descriptor
    internal_static_federation_ProtocolSignerInfo_descriptor;
  private static
    com.google.protobuf.GeneratedMessage.FieldAccessorTable
      internal_static_federation_ProtocolSignerInfo_fieldAccessorTable;
  
  public static com.google.protobuf.Descriptors.FileDescriptor
      getDescriptor() {
    return descriptor;
  }
  private static com.google.protobuf.Descriptors.FileDescriptor
      descriptor;
  static {
    java.lang.String[] descriptorData = {
      "\n6org/waveprotocol/wave/federation/feder" +
      "ation.protodevel\022\nfederation\032*org/wavepr" +
      "otocol/protobuf/extensions.proto\"\260\001\n\024Pro" +
      "tocolWaveletDelta\0229\n\016hashed_version\030\001 \002(" +
      "\0132!.federation.ProtocolHashedVersion\022\016\n\006" +
      "author\030\002 \002(\t\0227\n\toperation\030\003 \003(\0132$.federa" +
      "tion.ProtocolWaveletOperation\022\024\n\014address" +
      "_path\030\004 \003(\t\"D\n\025ProtocolHashedVersion\022\025\n\007" +
      "version\030\001 \002(\003B\004\200\265\030\001\022\024\n\014history_hash\030\002 \002(" +
      "\014\"\226\002\n\030ProtocolWaveletOperation\022\027\n\017add_pa",
      "rticipant\030\001 \001(\t\022\032\n\022remove_participant\030\002 " +
      "\001(\t\022L\n\017mutate_document\030\003 \001(\01323.federatio" +
      "n.ProtocolWaveletOperation.MutateDocumen" +
      "t\022\r\n\005no_op\030\004 \001(\010\032h\n\016MutateDocument\022\023\n\013do" +
      "cument_id\030\001 \002(\t\022A\n\022document_operation\030\002 " +
      "\002(\0132%.federation.ProtocolDocumentOperati" +
      "on\"\345\n\n\031ProtocolDocumentOperation\022B\n\tcomp" +
      "onent\030\001 \003(\0132/.federation.ProtocolDocumen" +
      "tOperation.Component\032\203\n\n\tComponent\022_\n\023an" +
      "notation_boundary\030\001 \001(\0132B.federation.Pro",
      "tocolDocumentOperation.Component.Annotat" +
      "ionBoundary\022\022\n\ncharacters\030\002 \001(\t\022S\n\releme" +
      "nt_start\030\003 \001(\0132<.federation.ProtocolDocu" +
      "mentOperation.Component.ElementStart\022\023\n\013" +
      "element_end\030\004 \001(\010\022\031\n\021retain_item_count\030\005" +
      " \001(\005\022\031\n\021delete_characters\030\006 \001(\t\022Z\n\024delet" +
      "e_element_start\030\007 \001(\0132<.federation.Proto" +
      "colDocumentOperation.Component.ElementSt" +
      "art\022\032\n\022delete_element_end\030\010 \001(\010\022]\n\022repla" +
      "ce_attributes\030\t \001(\0132A.federation.Protoco",
      "lDocumentOperation.Component.ReplaceAttr" +
      "ibutes\022[\n\021update_attributes\030\n \001(\0132@.fede" +
      "ration.ProtocolDocumentOperation.Compone" +
      "nt.UpdateAttributes\032*\n\014KeyValuePair\022\013\n\003k" +
      "ey\030\001 \002(\t\022\r\n\005value\030\002 \002(\t\032C\n\016KeyValueUpdat" +
      "e\022\013\n\003key\030\001 \002(\t\022\021\n\told_value\030\002 \001(\t\022\021\n\tnew" +
      "_value\030\003 \001(\t\032m\n\014ElementStart\022\014\n\004type\030\001 \002" +
      "(\t\022O\n\tattribute\030\002 \003(\0132<.federation.Proto" +
      "colDocumentOperation.Component.KeyValueP" +
      "air\032\314\001\n\021ReplaceAttributes\022\r\n\005empty\030\001 \001(\010",
      "\022S\n\rold_attribute\030\002 \003(\0132<.federation.Pro" +
      "tocolDocumentOperation.Component.KeyValu" +
      "ePair\022S\n\rnew_attribute\030\003 \003(\0132<.federatio" +
      "n.ProtocolDocumentOperation.Component.Ke" +
      "yValuePair\032{\n\020UpdateAttributes\022\r\n\005empty\030" +
      "\001 \001(\010\022X\n\020attribute_update\030\002 \003(\0132>.federa" +
      "tion.ProtocolDocumentOperation.Component" +
      ".KeyValueUpdate\032\200\001\n\022AnnotationBoundary\022\r" +
      "\n\005empty\030\001 \001(\010\022\013\n\003end\030\002 \003(\t\022N\n\006change\030\003 \003" +
      "(\0132>.federation.ProtocolDocumentOperatio",
      "n.Component.KeyValueUpdate\"\344\001\n\033ProtocolA" +
      "ppliedWaveletDelta\022>\n\025signed_original_de" +
      "lta\030\001 \002(\0132\037.federation.ProtocolSignedDel" +
      "ta\022D\n\031hashed_version_applied_at\030\002 \001(\0132!." +
      "federation.ProtocolHashedVersion\022\032\n\022oper" +
      "ations_applied\030\003 \002(\005\022#\n\025application_time" +
      "stamp\030\004 \002(\003B\004\200\265\030\001\"V\n\023ProtocolSignedDelta" +
      "\022\r\n\005delta\030\001 \002(\014\0220\n\tsignature\030\002 \003(\0132\035.fed" +
      "eration.ProtocolSignature\"\262\001\n\021ProtocolSi" +
      "gnature\022\027\n\017signature_bytes\030\001 \002(\014\022\021\n\tsign",
      "er_id\030\002 \002(\014\022M\n\023signature_algorithm\030\003 \002(\016" +
      "20.federation.ProtocolSignature.Signatur" +
      "eAlgorithm\"\"\n\022SignatureAlgorithm\022\014\n\010SHA1" +
      "_RSA\020\001\"\250\001\n\022ProtocolSignerInfo\022D\n\016hash_al" +
      "gorithm\030\001 \002(\0162,.federation.ProtocolSigne" +
      "rInfo.HashAlgorithm\022\016\n\006domain\030\002 \002(\t\022\023\n\013c" +
      "ertificate\030\003 \003(\014\"\'\n\rHashAlgorithm\022\n\n\006SHA" +
      "256\020\001\022\n\n\006SHA512\020\002B)\n org.waveprotocol.wa" +
      "ve.federationB\005Proto"
    };
    com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner assigner =
      new com.google.protobuf.Descriptors.FileDescriptor.InternalDescriptorAssigner() {
        public com.google.protobuf.ExtensionRegistry assignDescriptors(
            com.google.protobuf.Descriptors.FileDescriptor root) {
          descriptor = root;
          internal_static_federation_ProtocolWaveletDelta_descriptor =
            getDescriptor().getMessageTypes().get(0);
          internal_static_federation_ProtocolWaveletDelta_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolWaveletDelta_descriptor,
              new java.lang.String[] { "HashedVersion", "Author", "Operation", "AddressPath", },
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.class,
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletDelta.Builder.class);
          internal_static_federation_ProtocolHashedVersion_descriptor =
            getDescriptor().getMessageTypes().get(1);
          internal_static_federation_ProtocolHashedVersion_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolHashedVersion_descriptor,
              new java.lang.String[] { "Version", "HistoryHash", },
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.class,
              org.waveprotocol.wave.federation.Proto.ProtocolHashedVersion.Builder.class);
          internal_static_federation_ProtocolWaveletOperation_descriptor =
            getDescriptor().getMessageTypes().get(2);
          internal_static_federation_ProtocolWaveletOperation_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolWaveletOperation_descriptor,
              new java.lang.String[] { "AddParticipant", "RemoveParticipant", "MutateDocument", "NoOp", },
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.class,
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.Builder.class);
          internal_static_federation_ProtocolWaveletOperation_MutateDocument_descriptor =
            internal_static_federation_ProtocolWaveletOperation_descriptor.getNestedTypes().get(0);
          internal_static_federation_ProtocolWaveletOperation_MutateDocument_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolWaveletOperation_MutateDocument_descriptor,
              new java.lang.String[] { "DocumentId", "DocumentOperation", },
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.class,
              org.waveprotocol.wave.federation.Proto.ProtocolWaveletOperation.MutateDocument.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_descriptor =
            getDescriptor().getMessageTypes().get(3);
          internal_static_federation_ProtocolDocumentOperation_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_descriptor,
              new java.lang.String[] { "Component", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_descriptor =
            internal_static_federation_ProtocolDocumentOperation_descriptor.getNestedTypes().get(0);
          internal_static_federation_ProtocolDocumentOperation_Component_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_descriptor,
              new java.lang.String[] { "AnnotationBoundary", "Characters", "ElementStart", "ElementEnd", "RetainItemCount", "DeleteCharacters", "DeleteElementStart", "DeleteElementEnd", "ReplaceAttributes", "UpdateAttributes", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_descriptor =
            internal_static_federation_ProtocolDocumentOperation_Component_descriptor.getNestedTypes().get(0);
          internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_KeyValuePair_descriptor,
              new java.lang.String[] { "Key", "Value", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValuePair.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_descriptor =
            internal_static_federation_ProtocolDocumentOperation_Component_descriptor.getNestedTypes().get(1);
          internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_KeyValueUpdate_descriptor,
              new java.lang.String[] { "Key", "OldValue", "NewValue", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.KeyValueUpdate.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_descriptor =
            internal_static_federation_ProtocolDocumentOperation_Component_descriptor.getNestedTypes().get(2);
          internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_ElementStart_descriptor,
              new java.lang.String[] { "Type", "Attribute", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ElementStart.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_descriptor =
            internal_static_federation_ProtocolDocumentOperation_Component_descriptor.getNestedTypes().get(3);
          internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_ReplaceAttributes_descriptor,
              new java.lang.String[] { "Empty", "OldAttribute", "NewAttribute", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.ReplaceAttributes.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_descriptor =
            internal_static_federation_ProtocolDocumentOperation_Component_descriptor.getNestedTypes().get(4);
          internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_UpdateAttributes_descriptor,
              new java.lang.String[] { "Empty", "AttributeUpdate", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.UpdateAttributes.Builder.class);
          internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_descriptor =
            internal_static_federation_ProtocolDocumentOperation_Component_descriptor.getNestedTypes().get(5);
          internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolDocumentOperation_Component_AnnotationBoundary_descriptor,
              new java.lang.String[] { "Empty", "End", "Change", },
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.class,
              org.waveprotocol.wave.federation.Proto.ProtocolDocumentOperation.Component.AnnotationBoundary.Builder.class);
          internal_static_federation_ProtocolAppliedWaveletDelta_descriptor =
            getDescriptor().getMessageTypes().get(4);
          internal_static_federation_ProtocolAppliedWaveletDelta_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolAppliedWaveletDelta_descriptor,
              new java.lang.String[] { "SignedOriginalDelta", "HashedVersionAppliedAt", "OperationsApplied", "ApplicationTimestamp", },
              org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta.class,
              org.waveprotocol.wave.federation.Proto.ProtocolAppliedWaveletDelta.Builder.class);
          internal_static_federation_ProtocolSignedDelta_descriptor =
            getDescriptor().getMessageTypes().get(5);
          internal_static_federation_ProtocolSignedDelta_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolSignedDelta_descriptor,
              new java.lang.String[] { "Delta", "Signature", },
              org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.class,
              org.waveprotocol.wave.federation.Proto.ProtocolSignedDelta.Builder.class);
          internal_static_federation_ProtocolSignature_descriptor =
            getDescriptor().getMessageTypes().get(6);
          internal_static_federation_ProtocolSignature_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolSignature_descriptor,
              new java.lang.String[] { "SignatureBytes", "SignerId", "SignatureAlgorithm", },
              org.waveprotocol.wave.federation.Proto.ProtocolSignature.class,
              org.waveprotocol.wave.federation.Proto.ProtocolSignature.Builder.class);
          internal_static_federation_ProtocolSignerInfo_descriptor =
            getDescriptor().getMessageTypes().get(7);
          internal_static_federation_ProtocolSignerInfo_fieldAccessorTable = new
            com.google.protobuf.GeneratedMessage.FieldAccessorTable(
              internal_static_federation_ProtocolSignerInfo_descriptor,
              new java.lang.String[] { "HashAlgorithm", "Domain", "Certificate", },
              org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.class,
              org.waveprotocol.wave.federation.Proto.ProtocolSignerInfo.Builder.class);
          com.google.protobuf.ExtensionRegistry registry =
            com.google.protobuf.ExtensionRegistry.newInstance();
          registerAllExtensions(registry);
          org.waveprotocol.protobuf.Extensions.registerAllExtensions(registry);
          return registry;
        }
      };
    com.google.protobuf.Descriptors.FileDescriptor
      .internalBuildGeneratedFileFrom(descriptorData,
        new com.google.protobuf.Descriptors.FileDescriptor[] {
          org.waveprotocol.protobuf.Extensions.getDescriptor(),
        }, assigner);
  }
  
  public static void internalForceInit() {}
  
  // @@protoc_insertion_point(outer_class_scope)
}
