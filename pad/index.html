<!DOCTYPE html>
<html>
  <head>
    <base href="/swellrt/pad">
    <title>SwellRT Editor</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- github pages routing hack. See:
      * http://www.backalleycoder.com/2016/05/13/sghpa-the-single-page-app-hack-for-github-pages/
      * https://github.com/isaacs/github/issues/408
    -->
    <script>
      (function(){
        var redirect = sessionStorage.redirect;
        delete sessionStorage.redirect;
        if (redirect && redirect != location.href) {
          history.replaceState(null, null, redirect);
        }
      })();
    </script>


    <!-- Material Design fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.min.css">

    <!-- Bootstrap Material Design -->
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/bootstrap.material-design/0.5.9/css/bootstrap-material-design.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/bootstrap.material-design/0.5.9/css/ripples.min.css">
    <link rel="stylesheet" type="text/css" href="node_modules/snackbarjs/dist/snackbar.min.css">
    <link rel="stylesheet" type="text/css" href="node_modules/snackbarjs/themes-css/material.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">




    <!-- 0. Third party Libs -->

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap.material-design/0.5.9/js/ripples.min.js"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap.material-design/0.5.9/js/material.min.js"></script>
    <script src="node_modules/snackbarjs/dist/snackbar.min.js"></script>

    <!-- Polyfill(s) for older browsers -->
    <script src="node_modules/core-js/client/shim.min.js"></script>

    <script src="node_modules/zone.js/dist/zone.js"></script>
    <script src="node_modules/reflect-metadata/Reflect.js"></script>
    <script src="node_modules/systemjs/dist/system.src.js"></script>

    <script src="systemjs.config.js"></script>
    <!-- SwellRT -->
    <script src="http://demo.swellrt.org/swellrt.js"></script>


    <script>
      $.material.init();


      SwellRT.ready(function() {

          console.log("SwellRT Loaded!");

          // Fine tunning the SwellRT server connection.
          // Don't touch!
          window.__atmosphere_config = {
                           logLevel: "info", // info, debug
                           transport: "websocket",
                           fallbackTransport: "long-polling",
                           pollingInterval: 0,
                           trackMessageLength: true,
                           enableXDR: true,
                           readResponsesHeaders: false,
                           withCredentials: true,
                           dropHeaders: true,
                           timeout: 70000,

                           connectTimeout: -1,
                           reconnectInterval: 5000,
                           maxReconnectOnClose: 5,
                           reconnectOnServerError: true,

                           clientVersion: "1.0"
                         };

          System.config({
            packages: {
              app: {
                format: 'register',
                defaultExtension: 'js'
              }
            }
          });
          System.import('app')
                .then(null, console.error.bind(console));

      });

    </script>

  </head>
  <!-- 3. Display the application -->
  <body>

    <app-root id="loadIndicator" class="container">

      <div class="row" style="margin-top: 6em;">
        <div class="col-md-12 text-center">
          <img src="images/loading_icon.gif" height="200">
          <h4>Loading Papel Editor...</h4>
        </div>
      </div>

    </app-root>

  </body>


</html>
